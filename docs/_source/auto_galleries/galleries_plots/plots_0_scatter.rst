
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "_source\auto_galleries\galleries_plots\plots_0_scatter.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download__source_auto_galleries_galleries_plots_plots_0_scatter.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr__source_auto_galleries_galleries_plots_plots_0_scatter.py:


========================================
Scatter Plot
========================================

.. GENERATED FROM PYTHON SOURCE LINES 9-10

Installation

.. GENERATED FROM PYTHON SOURCE LINES 10-14

.. code-block:: Python


    # To install the required package, use the following command:
    # !pip install mocharts








.. GENERATED FROM PYTHON SOURCE LINES 15-16

Simple Scatter

.. GENERATED FROM PYTHON SOURCE LINES 16-27

.. code-block:: Python


    from IPython.display import HTML
    import mocharts as mc
    from sklearn.datasets import make_circles
    pos,label = make_circles(n_samples=100, shuffle=True, noise=None, random_state=None, factor=0.8)
    x,y = pos[:,0], pos[:,1]

    plot = mc.scatterplot(x=x, y=y, color='orange')
    # plot.show()
    HTML(plot.show(return_html=True, silent=True))






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">

                <!DOCTYPE html>
                <html lang="en" style="height: 100%">
                <head>
                <meta charset="utf-8">
                </head>
                <body style="height: 100%; margin: 0">

            
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts-gl/2.0.8/echarts-gl.min.js"></script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>
                <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2.1.0/dist/echarts-wordcloud.min.js"></script>
            
                <div id="1742883546.20733670.9702" style="height: 600px; width: 800px; overflow: auto"></div>
            
                <script type="text/javascript">
                var dom = document.getElementById('1742883546.20733670.9702');
                dom.innerHTML = ""
                dom.setAttribute('_echarts_instance_', '')
                var myChart = echarts.init(dom, null, {
                    renderer: 'canvas',
                    useDirtyRect: false
                    });
                var app = {};

                var option;
        option = {"chart_id": "1742883546.20733670.9702", "link_id": null, "figname": "", "title": null, "grid": {"show": true, "width": "auto", "height": "auto", "z": 2, "left": "5%", "top": "10%", "right": "10%", "bottom": "5%", "borderColor": "#ccc", "borderWidth": 1, "containLabel": true, "backgroundColor": "transparent", "changed_name_key": {"id_": "id"}}, "legend": null, "brush": null, "yAxis": [{"show": true, "type": "value", "position": "bottom", "name": "", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": "auto", "min": -1.1976, "max": 1.1976, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": 40.0}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "xAxis": [{"show": true, "type": "value", "position": "bottom", "name": "", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": 30, "min": -1.2, "max": 1.2, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": null}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "parallelAxis": null, "series": [{"type": "scatter", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "emphasis": {"focus": "none"}, "seriesLayoutBy": "column", "data": [{"value": [0.5831749019371295, -0.5476376847429506], "itemStyle": {"opacity": 0.8}}, {"value": [0.4257792915650726, -0.9048270524660196], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8090169943749473, 0.5877852522924732], "itemStyle": {"opacity": 0.8}}, {"value": [-0.743821188710601, -0.29449964214774266], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6374239897486895, -0.7705132427757894], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7438211887106012, 0.2944996421477422], "itemStyle": {"opacity": 0.8}}, {"value": [-0.1499050516685797, -0.785829800582951], "itemStyle": {"opacity": 0.8}}, {"value": [0.6472135954999583, -0.47022820183397807], "itemStyle": {"opacity": 0.8}}, {"value": [0.42866143598319745, -0.675462340401612], "itemStyle": {"opacity": 0.8}}, {"value": [0.7936917610515823, 0.1002665868514434], "itemStyle": {"opacity": 0.8}}, {"value": [0.9297764858882513, 0.368124552684678], "itemStyle": {"opacity": 0.8}}, {"value": [0.0627905195293133, 0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5358267949789963, -0.8443279255020153], "itemStyle": {"opacity": 0.8}}, {"value": [0.9921147013144779, -0.1253332335643038], "itemStyle": {"opacity": 0.8}}, {"value": [0.14990505166858012, -0.7858298005829509], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8090169943749472, -0.5877852522924734], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5831749019371293, -0.547637684742951], "itemStyle": {"opacity": 0.8}}, {"value": [0.3406234332520581, 0.7238616419728157], "itemStyle": {"opacity": 0.8}}, {"value": [0.18738131458572452, 0.9822872507286887], "itemStyle": {"opacity": 0.8}}, {"value": [-0.30901699437494756, 0.9510565162951535], "itemStyle": {"opacity": 0.8}}, {"value": [0.30901699437494745, 0.9510565162951535], "itemStyle": {"opacity": 0.8}}, {"value": [-0.42866143598319706, -0.6754623404016122], "itemStyle": {"opacity": 0.8}}, {"value": [0.8090169943749478, -0.5877852522924726], "itemStyle": {"opacity": 0.8}}, {"value": [0.5831749019371293, 0.547637684742951], "itemStyle": {"opacity": 0.8}}, {"value": [0.2472135954999578, -0.760845213036123], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7748665289029049, 0.19895190973188387], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8, -2.572996239482619e-16], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4286614359831975, 0.675462340401612], "itemStyle": {"opacity": 0.8}}, {"value": [0.5099391917989518, 0.6164105942206315], "itemStyle": {"opacity": 0.8}}, {"value": [-0.34062343325205774, -0.7238616419728159], "itemStyle": {"opacity": 0.8}}, {"value": [-0.24721359549995806, 0.7608452130361228], "itemStyle": {"opacity": 0.8}}, {"value": [0.63742398974869, -0.770513242775789], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5099391917989516, -0.6164105942206315], "itemStyle": {"opacity": 0.8}}, {"value": [-0.05023241562345057, -0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9921147013144779, -0.12533323356430429], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9685831611286311, -0.24868988716485502], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7936917610515823, -0.10026658685144343], "itemStyle": {"opacity": 0.8}}, {"value": [0.6374239897486896, 0.7705132427757893], "itemStyle": {"opacity": 0.8}}, {"value": [-0.06279051952931321, -0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [-0.3406234332520582, 0.7238616419728157], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5358267949789969, 0.844327925502015], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7748665289029049, -0.19895190973188404], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6472135954999578, -0.47022820183397873], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7010453440350909, -0.3854029392813723], "itemStyle": {"opacity": 0.8}}, {"value": [-0.14990505166857987, 0.7858298005829509], "itemStyle": {"opacity": 0.8}}, {"value": [0.8090169943749475, 0.5877852522924731], "itemStyle": {"opacity": 0.8}}, {"value": [-0.24721359549995806, -0.7608452130361228], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9297764858882515, 0.36812455268467775], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6472135954999579, 0.4702282018339786], "itemStyle": {"opacity": 0.8}}, {"value": [0.7748665289029049, 0.19895190973188384], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9921147013144779, 0.1253332335643041], "itemStyle": {"opacity": 0.8}}, {"value": [0.30901699437494723, -0.9510565162951536], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8763066800438636, 0.4817536741017152], "itemStyle": {"opacity": 0.8}}, {"value": [-0.42577929156507216, -0.9048270524660198], "itemStyle": {"opacity": 0.8}}, {"value": [0.05023241562345065, 0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9297764858882512, -0.3681245526846783], "itemStyle": {"opacity": 0.8}}, {"value": [0.06279051952931372, -0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [0.509939191798952, -0.6164105942206313], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7289686274214117, 0.6845471059286885], "itemStyle": {"opacity": 0.8}}, {"value": [0.5358267949789968, -0.844327925502015], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5831749019371294, 0.5476376847429508], "itemStyle": {"opacity": 0.8}}, {"value": [0.774866528902905, -0.1989519097318836], "itemStyle": {"opacity": 0.8}}, {"value": [0.42577929156507266, 0.9048270524660196], "itemStyle": {"opacity": 0.8}}, {"value": [0.7289686274214119, -0.6845471059286883], "itemStyle": {"opacity": 0.8}}, {"value": [0.05023241562345098, -0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [0.18738131458572513, -0.9822872507286886], "itemStyle": {"opacity": 0.8}}, {"value": [0.5358267949789965, 0.8443279255020151], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7010453440350909, 0.3854029392813722], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0, -3.216245299353273e-16], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6374239897486897, 0.7705132427757893], "itemStyle": {"opacity": 0.8}}, {"value": [0.647213595499958, 0.4702282018339785], "itemStyle": {"opacity": 0.8}}, {"value": [-0.18738131458572463, -0.9822872507286887], "itemStyle": {"opacity": 0.8}}, {"value": [0.8763066800438636, -0.4817536741017153], "itemStyle": {"opacity": 0.8}}, {"value": [0.9921147013144779, 0.12533323356430426], "itemStyle": {"opacity": 0.8}}, {"value": [0.3406234332520581, -0.7238616419728157], "itemStyle": {"opacity": 0.8}}, {"value": [0.7010453440350909, 0.38540293928137226], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4257792915650727, 0.9048270524660195], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9685831611286311, 0.24868988716485482], "itemStyle": {"opacity": 0.8}}, {"value": [-0.18738131458572482, 0.9822872507286886], "itemStyle": {"opacity": 0.8}}, {"value": [0.7438211887106012, -0.2944996421477423], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7289686274214116, -0.6845471059286887], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5099391917989519, 0.6164105942206315], "itemStyle": {"opacity": 0.8}}, {"value": [0.8763066800438636, 0.4817536741017153], "itemStyle": {"opacity": 0.8}}, {"value": [-0.0627905195293134, 0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [0.14990505166857962, 0.785829800582951], "itemStyle": {"opacity": 0.8}}, {"value": [0.8, 0.0], "itemStyle": {"opacity": 0.8}}, {"value": [0.4286614359831973, 0.6754623404016121], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8763066800438636, -0.4817536741017154], "itemStyle": {"opacity": 0.8}}, {"value": [0.9685831611286311, 0.2486898871648548], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7936917610515823, 0.10026658685144328], "itemStyle": {"opacity": 0.8}}, {"value": [-0.050232415623450724, 0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [-0.30901699437494756, -0.9510565162951535], "itemStyle": {"opacity": 0.8}}, {"value": [0.7010453440350909, -0.38540293928137226], "itemStyle": {"opacity": 0.8}}, {"value": [0.7289686274214116, 0.6845471059286887], "itemStyle": {"opacity": 0.8}}, {"value": [0.7936917610515823, -0.10026658685144303], "itemStyle": {"opacity": 0.8}}, {"value": [0.24721359549995797, 0.7608452130361228], "itemStyle": {"opacity": 0.8}}, {"value": [0.7438211887106011, 0.2944996421477424], "itemStyle": {"opacity": 0.8}}, {"value": [1.0, 0.0], "itemStyle": {"opacity": 0.8}}, {"value": [0.9297764858882515, -0.36812455268467786], "itemStyle": {"opacity": 0.8}}, {"value": [0.9685831611286312, -0.2486898871648545], "itemStyle": {"opacity": 0.8}}], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "orange", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 10, "symbolOffset": [0, 0], "large": true, "largeThreshold": 1000, "progressive": 400, "progressiveThreshold": 3000, "data_dict": {}, "is_text": false, "ignore_axis": false}], "visualMap": null, "toolbox": {"show": true, "orient": "horizontal", "itemSize": 15, "itemGap": 8, "showTitle": true, "feature": {"dataZoom": {}, "saveAsImage": {}}, "z": 2, "left": "auto", "top": "auto", "right": "1%", "bottom": "auto", "width": "auto", "height": "auto", "popup": true, "changed_name_key": {"id_": "id"}}, "tooltip": {"show": true, "custom_tooltip": false, "trigger": "item", "axisPointer": {"show": true, "type": "line"}, "showContent": true, "triggerOn": "mousemove|click", "hideDelay": 100, "enterable": true, "renderMode": "html", "confine": true, "transitionDuration": 0.4, "borderColor": "#333", "padding": 5, "order": "seriesAsc"}, "dataZoom": null, "event": null, "graphic": null, "radar": null, "figsize": {"height": 600, "width": 800}, "color": ["#1f77b4", "#ff7f0e", "#2ca02c", "#e377c2", "#9467bd", "#d62728", "#8c564b", "#bcbd22", "#17becf", "#7f7f7f"], "save_img": false, "auto_size": true, "style": {"overflow": "auto"}, "port": "5005"};function setInnerHTML(elm, html) {
      elm.innerHTML = html;
  
      Array.from(elm.querySelectorAll("script"))
        .forEach( oldScriptEl => {
          const newScriptEl = document.createElement("script");
      
          Array.from(oldScriptEl.attributes).forEach( attr => {
            newScriptEl.setAttribute(attr.name, attr.value) 
          });
      
          const scriptText = document.createTextNode(oldScriptEl.innerHTML);
          newScriptEl.appendChild(scriptText);
      
          oldScriptEl.parentNode.replaceChild(newScriptEl, oldScriptEl);
      });
    };

    function getScreenSize(option) {
      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_result_save', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'height': screen.height, 'width': screen.width},
                                  'event_id': 'screen_size'})
          });
          fetch(testRequest).then(response => {});
      return 
    }
    function support_scientific_notation(option) {
      if (Array.isArray(option['yAxis'])) {
        for (var tar_ind = 0; tar_ind < option['yAxis'].length; tar_ind++) {
          if (option['yAxis'][tar_ind]['type'] === 'value') {
            option['yAxis'][tar_ind]['axisLabel']['formatter'] = function(val) {
              const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                        '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                        '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
              function toSuperscript(val) {
                if (val.toString().length > 5 && !val.toString().includes('.')) {
                  val = Number(val).toExponential().toString();
                  if (val.includes('-')) {
                    val = val.split('-');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁻' + val1
                  }
                  else if (val.includes('+')) {
                    val = val.split('+');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁺' + val1
                  }
                }
                else {
                  return val
                }
              }
              return toSuperscript(val)
            }
          }
        }
      }
      else {
        if (option['yAxis']['type'] === 'value') {
          option['yAxis']['axisLabel']['formatter'] = function(val) {
            const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                    '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                    '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
            function toSuperscript(val) {
              if (val.toString().length > 5 && !val.toString().includes('.')) {
                val = Number(val).toExponential().toString();
                if (val.includes('-')) {
                  val = val.split('-');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁻' + val1
                }
                else if (val.includes('+')) {
                  val = val.split('+');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁺' + val1
                }
              }
              else {
                return val
              }
            }
            return toSuperscript(val)
          }
        }
      };
      return option;
    };

    function auto_component_size(option) {
      if (typeof option['figsize']['width'] === 'string' || option['figsize']['width'] instanceof String) {
        if (option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['width'].includes('px')) {
          var width = parseFloat(option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = option['figsize']['width']
      }

      if (typeof option['figsize']['height'] === 'string' || option['figsize']['height'] instanceof String) {
        if (option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['height'].includes('px')) {
          var height = parseFloat(option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height']
      }

      var relative_ratio = Math.min(width / 700, height / 400)
      if ('xAxis3D' in option) {
        var keys = ['xAxis3D', 'yAxis3D', 'zAxis3D']
      }
      else {
        var keys = ['xAxis', 'yAxis']
      }
      for (single_key of keys) {
        for (var ind = 0; ind < option[single_key].length; ind++) {
          option[single_key][ind]['nameTextStyle']['fontSize'] = Math.max(7, option[single_key][ind]['nameTextStyle']['fontSize'] * relative_ratio);
          option[single_key][ind]['axisLabel']['fontSize'] = Math.max(7, option[single_key][ind]['axisLabel']['fontSize'] * relative_ratio);
        }
      }
      if (option['series']) {
        for (var ind = 0; ind < option['series'].length; ind++) {
          if (['heatmap', 'bar'].includes(option['series'][ind]['type'])) {
            if (option['series'][ind]['label']) {
              option['series'][ind]['label']['fontSize'] = Math.max(7, option['series'][ind]['label']['fontSize'] * relative_ratio);
            }
          }
        }
      }
      if (option['title']) {
        if (Array.isArray(option['title'])) {
          for (var ind = 0; ind < option['title'].length; ind++) {
            option['title'][ind]['textStyle']['fontSize'] = Math.max(9, option['title'][ind]['textStyle']['fontSize'] * relative_ratio);
          }
        }
        else {
          option['title']['textStyle']['fontSize'] = Math.max(9, option['title']['textStyle']['fontSize'] * relative_ratio);
        }
      }
      if (option['legend']) {
        option['legend']['itemHeight'] = option['legend']['itemHeight'] * relative_ratio;
        option['legend']['itemWidth'] = option['legend']['itemWidth'] * relative_ratio;
        option['legend']['textStyle']['fontSize'] = Math.max(7, option['legend']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['visualMap']) {
        option['visualMap']['itemHeight'] = option['visualMap']['itemHeight'] * relative_ratio;
        option['visualMap']['itemWidth'] = option['visualMap']['itemWidth'] * relative_ratio;
        option['visualMap']['textStyle']['fontSize'] = Math.max(7, option['visualMap']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['toolbox']) {
        option['toolbox']['itemSize'] = Math.max(8, option['toolbox']['itemSize'] * relative_ratio)
        option['toolbox']['itemGap'] = Math.max(4, option['toolbox']['itemGap'] * relative_ratio);
      }
      if (option['graphic']) {
        for (var ind = 0; ind < option['graphic'].length; ind++) {
          for (var ind2 = 0; ind2 < option['graphic'][ind]['children'].length; ind2++) {
            var new_font = Math.max(7, 12 * relative_ratio);
            option['graphic'][ind]['children'][ind2]['style']['font'] = new_font.toString() + 'px Microsoft YaHei';
          }
        }
      }
      return option;
    }

    function save_img(echarts_instance, option) {
      const base64_str = echarts_instance.getDataURL({
          pixelRatio: 2,
          backgroundColor: '#fff',
          width: option['figsize']['width'],
          height: option['figsize']['height']
      });

      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_image_save', {
        method: 'post',
        headers: {
          'Content-Type': 'application/json;charset=utf-8;',
          'Access-Control-Allow-Origin':'*',
          'Access-Control-Allow-Credentials': 'true',
          'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
        },
        body: JSON.stringify({'figname': option['figname'],
                              'base64_str': base64_str})
      });
      fetch(testRequest).then(response => {});
    };


    function auto_axis_namegap(echarts_instance, auto_axis_list, axis_type) {
      const globalModel = echarts_instance._api.getModel()
      const figsize = globalModel.option.figsize
      const ctx = document.createElement('canvas').getContext('2d')
      if (typeof globalModel.option['figsize']['width'] === 'string' || globalModel.option['figsize']['width'] instanceof String) {
        if (globalModel.option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(globalModel.option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['width'].includes('px')) {
          var width = parseFloat(globalModel.option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = globalModel.option['figsize']['width'];
      }

      if (typeof globalModel.option['figsize']['height'] === 'string' || globalModel.option['figsize']['height'] instanceof String) {
        if (globalModel.option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(globalModel.option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['height'].includes('px')) {
          var height = parseFloat(globalModel.option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height'];
      }
      var relative_ratio = Math.min(width / 700, height / 400);
      if (axis_type==='2d') {
        const yAxisList = globalModel.option.yAxis
        const xAxisList = globalModel.option.xAxis

        for (var axis_idx of auto_axis_list) {
          const yAxis = yAxisList[axis_idx]
          const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
          const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
          ctx.save()
          ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
  
          const yAxisComponent = globalModel.getComponent('yAxis', axis_idx)?.axis
          if (yAxis.type === 'value') {
            var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
          }
          else {
            var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
          }
          var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
          axisLabelMargin = axisLabelMargin * relative_ratio
          yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
          ctx.restore()
        };
  
        for (var axis_idx of [...Array(xAxisList.length).keys()]) {
          var new_gap = Math.max(xAxisList[axis_idx].nameGap * relative_ratio, 12);
          if (figsize['height'] < 400) {
            new_gap = Math.min(20, new_gap);
          }
          xAxisList[axis_idx].nameGap = new_gap;
        }
  
        echarts_instance.setOption({
          yAxis: yAxisList,
          xAxis: xAxisList
        })
      }
      else {
        const yAxisList = globalModel.option.yAxis3D
        const xAxisList = globalModel.option.xAxis3D
        const zAxisList = globalModel.option.zAxis3D

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < xAxisList.length) {
            const xAxis = xAxisList[axis_idx]
            const fontSize = xAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = xAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const xAxisComponent = globalModel.getComponent('xAxis3D', axis_idx)?.axis
            if (xAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = xAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            xAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < yAxisList.length) {
            const yAxis = yAxisList[axis_idx]
            const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const yAxisComponent = globalModel.getComponent('yAxis3D', axis_idx)?.axis
            if (yAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < zAxisList.length) {
            const zAxis = zAxisList[axis_idx]
            const fontSize = zAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = zAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const zAxisComponent = globalModel.getComponent('zAxis3D', axis_idx)?.axis
            if (zAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = zAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            zAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };
        echarts_instance.setOption({
          yAxis3D: yAxisList,
          xAxis3D: xAxisList,
          zAxis3D: zAxisList
        });
        }
  
    };

    function custom_scatter_size(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['symbolSize'] === 'array_size') {
          var ind_ = option['series'][ind]['data_dict']['size']
          option['series'][ind]['symbolSize'] = function (data) {return data[ind_];}
        }
      }
      return option;
  
    };

    function show_scatter_label(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['label'] === 'show_label') {
          var ind_ = option['series'][ind]['data_dict']['label']
          option['series'][ind]['label'] = {
            show: true,
            formatter: function (params) {return params.data.value[ind_]; }
          }
        }
      }
      return option;
    };

    function hide_min_max_axis_label(option) {
      for (var ind = 0; ind < option['xAxis3D'].length; ind++) {
        if (option['xAxis3D'][ind]['type'] == 'value') {
          var x_min = option['xAxis3D'][ind]['min']
          var x_max = option['xAxis3D'][ind]['max']
          option['xAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==x_min || value==x_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['yAxis3D'].length; ind++) {
        if (option['yAxis3D'][ind]['type'] == 'value') {  
          var y_min = option['yAxis3D'][ind]['min']
          var y_max = option['yAxis3D'][ind]['max']
          option['yAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==y_min || value==y_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['zAxis3D'].length; ind++) {
        if (option['zAxis3D'][ind]['type'] == 'value') {
          var z_min = option['zAxis3D'][ind]['min']
          var z_max = option['zAxis3D'][ind]['max']
          option['zAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==z_min || value==z_max){}
            else {return value}
          }
       }
      }
      return option;
    }

    function custom_axis_label(option) {
      if (Array.isArray(option['xAxis'])) {
        for (var ind = 0; ind < option['xAxis'].length; ind++) {
          if (option['xAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['xAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['xAxis'][ind]['axisLabel']['formatter_func'].body)
            option['xAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['xAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['xAxis']['axisLabel']['formatter_func'].arguments,
                               option['xAxis']['axisLabel']['formatter_func'].body)
          option['xAxis']['axisLabel']['formatter'] = f
        }
      }
      if (Array.isArray(option['yAxis'])) {
        for (var ind = 0; ind < option['yAxis'].length; ind++) {
          if (option['yAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['yAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['yAxis'][ind]['axisLabel']['formatter_func'].body)
            option['yAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['yAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['yAxis']['axisLabel']['formatter_func'].arguments,
                               option['yAxis']['axisLabel']['formatter_func'].body)
          option['yAxis']['axisLabel']['formatter'] = f
        }
      }
      return option;
    }

    function custom_tooltip(option, dimension=2) {

      if (dimension === 2) {
        var xaxis_key = 'xAxis'
        var yaxis_key = 'yAxis'
      }

      else if (dimension === 3) {
        var xaxis_key = 'xAxis3D'
        var yaxis_key = 'yAxis3D'
        var zaxis_key = 'zAxis3D'
      }

      if (option['radar']) {
        var radar_names = []
        for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
          radar_names.push(option['radar']['indicator'][ind_]['name']) 
        }
      }
  
  
      if (option[xaxis_key]['name'] !== null && option[xaxis_key]['name'] !== '' && Array.isArray(option[xaxis_key])!==true) {
        var xaxis_name = option[xaxis_key]['name'];
      }
      else {
        var xaxis_name = 'X';
      }

      if (option[yaxis_key]['name'] !== null && option[yaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
        var yaxis_name = option[yaxis_key]['name'];
      }
      else {
        var yaxis_name = 'Y';
      }

      if (typeof zaxis_key !== 'undefined') {
        if (option[zaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
          var zaxis_name = option[zaxis_key]['name'];
        }
        else {
          var zaxis_name = 'Z';
        }
      }
  
      if (option['tooltip']) {
        if (option['tooltip']['precision']) {
          var precision = option['tooltip']['precision']
          option['tooltip']['valueFormatter'] = (value) =>  Math.round(Number(value) * (10**precision)) / (10**precision)
        }

        for (var ind_ = 0; ind_ < option['series'].length; ind_++) {
          if (option['series'][ind_]['tooltip']) {
            if (option['series'][ind_]['tooltip']['precision']) {
              var precision = option['series'][ind_]['tooltip']['precision']
              const fix = precision_ => value => Math.round(Number(value) * (10**precision_)) / (10**precision_),
              fix_p = fix(precision);
              option['series'][ind_]['tooltip']['valueFormatter'] = function (value) {
                return fix_p(value)
              } 
            }
          }
        }

        if (option['series'].length === 1) {
          if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][0]['type'])) {
            option['tooltip']['formatter'] = function(params) {
              if (params.seriesName.includes('series')) {
                var series_name = ''
              }
          
              else {
                var series_name = params.seriesName + '<br>'
              }
      
              if (params.seriesType === 'scatter') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                  + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                  +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                }
            
              }
  
              else if (params.seriesType === 'heatmap') {
                formatter = params.name + ', ' + option['yAxis'][0]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
              }
      
              else if (params.seriesType === 'scatter3D') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                    + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                    +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                    +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                }
              }
          
              else if (params.seriesType === 'radar') {
                formatter = params.name  + '<br>';
                for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                  if (ind_ !== option['radar']['indicator'].length - 1) {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                  }
                  else {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                  }
                }
              }
            return formatter;
            }
          }
        }
        else {
          for (var out_ind_ = 0; out_ind_ < option['series'].length; out_ind_++) {
            if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][out_ind_]['type'])) {
              if (option['series'][out_ind_]['tooltip']) {
              }
              else {
                option['series'][out_ind_]['tooltip'] = {}
              }
              option['series'][out_ind_]['tooltip']['formatter'] = function(params) {
                if (params.seriesName.includes('series')) {
                  var series_name = ''
                }
            
                else {
                  var series_name = params.seriesName + '<br>'
                }
        
                if (params.seriesType === 'scatter') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                  }
                }
    
                else if (params.seriesType === 'heatmap') {
                  if ('data' in option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]) {
                    formatter = params.name + ', ' + option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
                  }
                  else {
                    formatter = Math.round(params.data[2] * 10000) / 10000
                  }
                
                }
        
                else if (params.seriesType === 'scatter3D') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                      +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                  }
                }
            
                else if (params.seriesType === 'radar') {
                  formatter = params.name  + '<br>';
                  for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                    if (ind_ !== option['radar']['indicator'].length - 1) {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                    }
                    else {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                    }
                  }
                }
              return formatter;
              }
            }
          }
        }
      }
      return option;
    };

    function support_brush_event(option) {
      if (option['event']['type_'] === 'brushselected') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var last_selected = [];
        bind_chart.on(option['event']['type_'], (params) => {
          var brushed = [];
          var brushComponent = params.batch[0];
          for (var sIdx = 0; sIdx < brushComponent.selected.length; sIdx++) {
            var rawIndices = brushComponent.selected[sIdx].dataIndex;
            brushed.push(rawIndices);
          }
          var brushed_all = brushed[0];

          if (JSON.stringify(last_selected) !== JSON.stringify(brushed_all)) {

            // Update memory
            let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
              method: 'post',
              headers: {
                  'Content-Type': 'application/json;charset=utf-8;',
                  'Access-Control-Allow-Origin':'*',
                  'Access-Control-Allow-Credentials': 'true',
                  'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
              },
              body: JSON.stringify({'js_func_input':{'selected': brushed_all},
                                    'event_id': option['event']['event_id']})
            });
            var dom_dict = {}
            fetch(testRequest).then(response => {
              var result = response.json();
              result.then(res => {
                dom_dict[res['link_id']] = document.getElementById(res['link_id']);
                setInnerHTML(dom_dict[res['link_id']], res['html']);
              });
            });
            last_selected = brushed_all;
          }
                            
        // bind_chart.setOption(option);
        })
      }
      return option;
    };

    function support_click_event(option) {
      if (option['event']['type_'] === 'click') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });

        if (option['series'][0]['orient'] === 'vertical') {
          var value_idx = 0
        }
        else {
          var value_idx = 1
        }
    

        bind_chart.on(option['event']['type_'], (params) => {
          if (option['event']['task'] === 'singleselect') {
            for (var ind_2 = 0; ind_2 < option['series'][0]['data'].length; ind_2++) {
              if (option['series'][0]['data'][ind_2]['itemStyle']['color'] !== '#1f77b4') {
                option['series'][0]['data'][ind_2]['itemStyle']['color'] = '#1f77b4';
              }
            }
            var idx = option['series'][0]['x_value'].indexOf(params.value[value_idx])
            option['series'][0]['data'][idx]['itemStyle']['color'] = '#ff7f0e';

            var selected = params.value[value_idx];
          }
          else {
            console.log(params);
          }
      
          let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'selected': selected},
                                  'event_id': option['event']['event_id']})
          });
          var dom_dict = {}
          fetch(testRequest).then(response => {
            var result = response.json();
            result.then(res => {
              dom_dict[res['link_id']] = document.getElementById(res['link_id']);
              setInnerHTML(dom_dict[res['link_id']], res['html']);
            });
          });
          bind_chart.setOption(option);
        });
      }
      return option;
    };function support_popup(option, height, width, inner_html) {
      option['toolbox']['feature']['myFeature'] = {
        show: true,
        title: 'Open in new window',
        icon: "image://data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDhweCIgd2lkdGg9IjQ4cHgiIHZpZXdCb3g9IjE2MCAtODAwIDY0MCA2NDAiIGZpbGw9IiM2NjY2NjYiPg0KICA8cGF0aCBkPSJNMjE1LjM4LTE2MHEtMjMuMDUgMC0zOS4yMi0xNi4xNlExNjAtMTkyLjMzIDE2MC0yMTUuMzh2LTUyOS4yNHEwLTIzLjA1IDE2LjE2LTM5LjIyUTE5Mi4zMy04MDAgMjE1LjM4LTgwMGgyMjQuMzl2MzAuNzdIMjE1LjM4cS05LjIzIDAtMTYuOTIgNy42OS03LjY5IDcuNjktNy42OSAxNi45MnY1MjkuMjRxMCA5LjIzIDcuNjkgMTYuOTIgNy42OSA3LjY5IDE2LjkyIDcuNjloNTI5LjI0cTkuMjMgMCAxNi45Mi03LjY5IDcuNjktNy42OSA3LjY5LTE2Ljkydi0yMjQuMzlIODAwdjIyNC4zOXEwIDIzLjA1LTE2LjE2IDM5LjIyUTc2Ny42Ny0xNjAgNzQ0LjYyLTE2MEgyMTUuMzhabTE3MS4yNC0yMDQuMzgtMjItMjIuMjQgMzgyLjYxLTM4Mi42MUg1NDEuMzFWLTgwMEg4MDB2MjU4LjY5aC0zMC43N1YtNzQ3TDM4Ni42Mi0zNjQuMzhaIi8+DQo8L3N2Zz4NCg==",
        onclick: function (){
          var height_ = Math.min(screen.height, Math.round(1.5 * parseInt(height.slice(0,-2))))
          var width_ = Math.min(screen.width, Math.round(1.5 * parseInt(width.slice(0,-2))))
          var left = (screen.width/2)-(width_/2);
          var top = (screen.height/2)-(height_/2);
          var win = window.open('template.html', '_blank',
            `height=${height_}px, width=${width_}px, top=${top}px, left=${left}px`,
          );
          win.document.write(`${inner_html}`);
          win.document.close();
        }
      };
      return option;
    };option = support_popup(option=option, height="600px", width="800px", inner_html=`

            <html lang="en" style="height: 100%; text-align: -webkit-center; align-content: center">
            <title>MoCharts</title>
            <head> <meta charset="utf-8"> </head>
            <body style="height: 100%; margin: 0">
        
        
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"><\/script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts-gl/2.0.8/echarts-gl.min.js"><\/script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"><\/script>
                <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2.1.0/dist/echarts-wordcloud.min.js"><\/script>
            

            <div id="1742883546.20733670.9702" style="height: 90%; width: 90%"></div>
            <script type="text/javascript">
                var dom = document.getElementById('1742883546.20733670.9702');
                var myChart = echarts.init(dom, null, {
                    renderer: 'canvas',
                    useDirtyRect: false
                    });
                var app = {};

                var option;
            option = {"chart_id": "1742883546.20733670.9702", "link_id": null, "figname": "", "title": null, "grid": {"show": true, "width": "auto", "height": "auto", "z": 2, "left": "5%", "top": "10%", "right": "10%", "bottom": "5%", "borderColor": "#ccc", "borderWidth": 1, "containLabel": true, "backgroundColor": "transparent", "changed_name_key": {"id_": "id"}}, "legend": null, "brush": null, "yAxis": [{"show": true, "type": "value", "position": "bottom", "name": "", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": "auto", "min": -1.1976, "max": 1.1976, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": 40.0}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "xAxis": [{"show": true, "type": "value", "position": "bottom", "name": "", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": 30, "min": -1.2, "max": 1.2, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": null}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "parallelAxis": null, "series": [{"type": "scatter", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "emphasis": {"focus": "none"}, "seriesLayoutBy": "column", "data": [{"value": [0.5831749019371295, -0.5476376847429506], "itemStyle": {"opacity": 0.8}}, {"value": [0.4257792915650726, -0.9048270524660196], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8090169943749473, 0.5877852522924732], "itemStyle": {"opacity": 0.8}}, {"value": [-0.743821188710601, -0.29449964214774266], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6374239897486895, -0.7705132427757894], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7438211887106012, 0.2944996421477422], "itemStyle": {"opacity": 0.8}}, {"value": [-0.1499050516685797, -0.785829800582951], "itemStyle": {"opacity": 0.8}}, {"value": [0.6472135954999583, -0.47022820183397807], "itemStyle": {"opacity": 0.8}}, {"value": [0.42866143598319745, -0.675462340401612], "itemStyle": {"opacity": 0.8}}, {"value": [0.7936917610515823, 0.1002665868514434], "itemStyle": {"opacity": 0.8}}, {"value": [0.9297764858882513, 0.368124552684678], "itemStyle": {"opacity": 0.8}}, {"value": [0.0627905195293133, 0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5358267949789963, -0.8443279255020153], "itemStyle": {"opacity": 0.8}}, {"value": [0.9921147013144779, -0.1253332335643038], "itemStyle": {"opacity": 0.8}}, {"value": [0.14990505166858012, -0.7858298005829509], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8090169943749472, -0.5877852522924734], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5831749019371293, -0.547637684742951], "itemStyle": {"opacity": 0.8}}, {"value": [0.3406234332520581, 0.7238616419728157], "itemStyle": {"opacity": 0.8}}, {"value": [0.18738131458572452, 0.9822872507286887], "itemStyle": {"opacity": 0.8}}, {"value": [-0.30901699437494756, 0.9510565162951535], "itemStyle": {"opacity": 0.8}}, {"value": [0.30901699437494745, 0.9510565162951535], "itemStyle": {"opacity": 0.8}}, {"value": [-0.42866143598319706, -0.6754623404016122], "itemStyle": {"opacity": 0.8}}, {"value": [0.8090169943749478, -0.5877852522924726], "itemStyle": {"opacity": 0.8}}, {"value": [0.5831749019371293, 0.547637684742951], "itemStyle": {"opacity": 0.8}}, {"value": [0.2472135954999578, -0.760845213036123], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7748665289029049, 0.19895190973188387], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8, -2.572996239482619e-16], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4286614359831975, 0.675462340401612], "itemStyle": {"opacity": 0.8}}, {"value": [0.5099391917989518, 0.6164105942206315], "itemStyle": {"opacity": 0.8}}, {"value": [-0.34062343325205774, -0.7238616419728159], "itemStyle": {"opacity": 0.8}}, {"value": [-0.24721359549995806, 0.7608452130361228], "itemStyle": {"opacity": 0.8}}, {"value": [0.63742398974869, -0.770513242775789], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5099391917989516, -0.6164105942206315], "itemStyle": {"opacity": 0.8}}, {"value": [-0.05023241562345057, -0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9921147013144779, -0.12533323356430429], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9685831611286311, -0.24868988716485502], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7936917610515823, -0.10026658685144343], "itemStyle": {"opacity": 0.8}}, {"value": [0.6374239897486896, 0.7705132427757893], "itemStyle": {"opacity": 0.8}}, {"value": [-0.06279051952931321, -0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [-0.3406234332520582, 0.7238616419728157], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5358267949789969, 0.844327925502015], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7748665289029049, -0.19895190973188404], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6472135954999578, -0.47022820183397873], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7010453440350909, -0.3854029392813723], "itemStyle": {"opacity": 0.8}}, {"value": [-0.14990505166857987, 0.7858298005829509], "itemStyle": {"opacity": 0.8}}, {"value": [0.8090169943749475, 0.5877852522924731], "itemStyle": {"opacity": 0.8}}, {"value": [-0.24721359549995806, -0.7608452130361228], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9297764858882515, 0.36812455268467775], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6472135954999579, 0.4702282018339786], "itemStyle": {"opacity": 0.8}}, {"value": [0.7748665289029049, 0.19895190973188384], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9921147013144779, 0.1253332335643041], "itemStyle": {"opacity": 0.8}}, {"value": [0.30901699437494723, -0.9510565162951536], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8763066800438636, 0.4817536741017152], "itemStyle": {"opacity": 0.8}}, {"value": [-0.42577929156507216, -0.9048270524660198], "itemStyle": {"opacity": 0.8}}, {"value": [0.05023241562345065, 0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9297764858882512, -0.3681245526846783], "itemStyle": {"opacity": 0.8}}, {"value": [0.06279051952931372, -0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [0.509939191798952, -0.6164105942206313], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7289686274214117, 0.6845471059286885], "itemStyle": {"opacity": 0.8}}, {"value": [0.5358267949789968, -0.844327925502015], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5831749019371294, 0.5476376847429508], "itemStyle": {"opacity": 0.8}}, {"value": [0.774866528902905, -0.1989519097318836], "itemStyle": {"opacity": 0.8}}, {"value": [0.42577929156507266, 0.9048270524660196], "itemStyle": {"opacity": 0.8}}, {"value": [0.7289686274214119, -0.6845471059286883], "itemStyle": {"opacity": 0.8}}, {"value": [0.05023241562345098, -0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [0.18738131458572513, -0.9822872507286886], "itemStyle": {"opacity": 0.8}}, {"value": [0.5358267949789965, 0.8443279255020151], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7010453440350909, 0.3854029392813722], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0, -3.216245299353273e-16], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6374239897486897, 0.7705132427757893], "itemStyle": {"opacity": 0.8}}, {"value": [0.647213595499958, 0.4702282018339785], "itemStyle": {"opacity": 0.8}}, {"value": [-0.18738131458572463, -0.9822872507286887], "itemStyle": {"opacity": 0.8}}, {"value": [0.8763066800438636, -0.4817536741017153], "itemStyle": {"opacity": 0.8}}, {"value": [0.9921147013144779, 0.12533323356430426], "itemStyle": {"opacity": 0.8}}, {"value": [0.3406234332520581, -0.7238616419728157], "itemStyle": {"opacity": 0.8}}, {"value": [0.7010453440350909, 0.38540293928137226], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4257792915650727, 0.9048270524660195], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9685831611286311, 0.24868988716485482], "itemStyle": {"opacity": 0.8}}, {"value": [-0.18738131458572482, 0.9822872507286886], "itemStyle": {"opacity": 0.8}}, {"value": [0.7438211887106012, -0.2944996421477423], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7289686274214116, -0.6845471059286887], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5099391917989519, 0.6164105942206315], "itemStyle": {"opacity": 0.8}}, {"value": [0.8763066800438636, 0.4817536741017153], "itemStyle": {"opacity": 0.8}}, {"value": [-0.0627905195293134, 0.9980267284282716], "itemStyle": {"opacity": 0.8}}, {"value": [0.14990505166857962, 0.785829800582951], "itemStyle": {"opacity": 0.8}}, {"value": [0.8, 0.0], "itemStyle": {"opacity": 0.8}}, {"value": [0.4286614359831973, 0.6754623404016121], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8763066800438636, -0.4817536741017154], "itemStyle": {"opacity": 0.8}}, {"value": [0.9685831611286311, 0.2486898871648548], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7936917610515823, 0.10026658685144328], "itemStyle": {"opacity": 0.8}}, {"value": [-0.050232415623450724, 0.7984213827426173], "itemStyle": {"opacity": 0.8}}, {"value": [-0.30901699437494756, -0.9510565162951535], "itemStyle": {"opacity": 0.8}}, {"value": [0.7010453440350909, -0.38540293928137226], "itemStyle": {"opacity": 0.8}}, {"value": [0.7289686274214116, 0.6845471059286887], "itemStyle": {"opacity": 0.8}}, {"value": [0.7936917610515823, -0.10026658685144303], "itemStyle": {"opacity": 0.8}}, {"value": [0.24721359549995797, 0.7608452130361228], "itemStyle": {"opacity": 0.8}}, {"value": [0.7438211887106011, 0.2944996421477424], "itemStyle": {"opacity": 0.8}}, {"value": [1.0, 0.0], "itemStyle": {"opacity": 0.8}}, {"value": [0.9297764858882515, -0.36812455268467786], "itemStyle": {"opacity": 0.8}}, {"value": [0.9685831611286312, -0.2486898871648545], "itemStyle": {"opacity": 0.8}}], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "orange", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 10, "symbolOffset": [0, 0], "large": true, "largeThreshold": 1000, "progressive": 400, "progressiveThreshold": 3000, "data_dict": {}, "is_text": false, "ignore_axis": false}], "visualMap": null, "toolbox": {"show": true, "orient": "horizontal", "itemSize": 15, "itemGap": 8, "showTitle": true, "feature": {"dataZoom": {}, "saveAsImage": {}}, "z": 2, "left": "auto", "top": "auto", "right": "1%", "bottom": "auto", "width": "auto", "height": "auto", "popup": true, "changed_name_key": {"id_": "id"}}, "tooltip": {"show": true, "custom_tooltip": false, "trigger": "item", "axisPointer": {"show": true, "type": "line"}, "showContent": true, "triggerOn": "mousemove|click", "hideDelay": 100, "enterable": true, "renderMode": "html", "confine": true, "transitionDuration": 0.4, "borderColor": "#333", "padding": 5, "order": "seriesAsc"}, "dataZoom": null, "event": null, "graphic": null, "radar": null, "figsize": {"height": 600, "width": 800}, "color": ["#1f77b4", "#ff7f0e", "#2ca02c", "#e377c2", "#9467bd", "#d62728", "#8c564b", "#bcbd22", "#17becf", "#7f7f7f"], "save_img": false, "auto_size": true, "style": {"overflow": "auto"}, "port": "5005"};function setInnerHTML(elm, html) {
      elm.innerHTML = html;
  
      Array.from(elm.querySelectorAll("script"))
        .forEach( oldScriptEl => {
          const newScriptEl = document.createElement("script");
      
          Array.from(oldScriptEl.attributes).forEach( attr => {
            newScriptEl.setAttribute(attr.name, attr.value) 
          });
      
          const scriptText = document.createTextNode(oldScriptEl.innerHTML);
          newScriptEl.appendChild(scriptText);
      
          oldScriptEl.parentNode.replaceChild(newScriptEl, oldScriptEl);
      });
    };

    function getScreenSize(option) {
      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_result_save', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'height': screen.height, 'width': screen.width},
                                  'event_id': 'screen_size'})
          });
          fetch(testRequest).then(response => {});
      return 
    }
    function support_scientific_notation(option) {
      if (Array.isArray(option['yAxis'])) {
        for (var tar_ind = 0; tar_ind < option['yAxis'].length; tar_ind++) {
          if (option['yAxis'][tar_ind]['type'] === 'value') {
            option['yAxis'][tar_ind]['axisLabel']['formatter'] = function(val) {
              const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                        '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                        '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
              function toSuperscript(val) {
                if (val.toString().length > 5 && !val.toString().includes('.')) {
                  val = Number(val).toExponential().toString();
                  if (val.includes('-')) {
                    val = val.split('-');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁻' + val1
                  }
                  else if (val.includes('+')) {
                    val = val.split('+');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁺' + val1
                  }
                }
                else {
                  return val
                }
              }
              return toSuperscript(val)
            }
          }
        }
      }
      else {
        if (option['yAxis']['type'] === 'value') {
          option['yAxis']['axisLabel']['formatter'] = function(val) {
            const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                    '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                    '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
            function toSuperscript(val) {
              if (val.toString().length > 5 && !val.toString().includes('.')) {
                val = Number(val).toExponential().toString();
                if (val.includes('-')) {
                  val = val.split('-');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁻' + val1
                }
                else if (val.includes('+')) {
                  val = val.split('+');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁺' + val1
                }
              }
              else {
                return val
              }
            }
            return toSuperscript(val)
          }
        }
      };
      return option;
    };

    function auto_component_size(option) {
      if (typeof option['figsize']['width'] === 'string' || option['figsize']['width'] instanceof String) {
        if (option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['width'].includes('px')) {
          var width = parseFloat(option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = option['figsize']['width']
      }

      if (typeof option['figsize']['height'] === 'string' || option['figsize']['height'] instanceof String) {
        if (option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['height'].includes('px')) {
          var height = parseFloat(option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height']
      }

      var relative_ratio = Math.min(width / 700, height / 400)
      if ('xAxis3D' in option) {
        var keys = ['xAxis3D', 'yAxis3D', 'zAxis3D']
      }
      else {
        var keys = ['xAxis', 'yAxis']
      }
      for (single_key of keys) {
        for (var ind = 0; ind < option[single_key].length; ind++) {
          option[single_key][ind]['nameTextStyle']['fontSize'] = Math.max(7, option[single_key][ind]['nameTextStyle']['fontSize'] * relative_ratio);
          option[single_key][ind]['axisLabel']['fontSize'] = Math.max(7, option[single_key][ind]['axisLabel']['fontSize'] * relative_ratio);
        }
      }
      if (option['series']) {
        for (var ind = 0; ind < option['series'].length; ind++) {
          if (['heatmap', 'bar'].includes(option['series'][ind]['type'])) {
            if (option['series'][ind]['label']) {
              option['series'][ind]['label']['fontSize'] = Math.max(7, option['series'][ind]['label']['fontSize'] * relative_ratio);
            }
          }
        }
      }
      if (option['title']) {
        if (Array.isArray(option['title'])) {
          for (var ind = 0; ind < option['title'].length; ind++) {
            option['title'][ind]['textStyle']['fontSize'] = Math.max(9, option['title'][ind]['textStyle']['fontSize'] * relative_ratio);
          }
        }
        else {
          option['title']['textStyle']['fontSize'] = Math.max(9, option['title']['textStyle']['fontSize'] * relative_ratio);
        }
      }
      if (option['legend']) {
        option['legend']['itemHeight'] = option['legend']['itemHeight'] * relative_ratio;
        option['legend']['itemWidth'] = option['legend']['itemWidth'] * relative_ratio;
        option['legend']['textStyle']['fontSize'] = Math.max(7, option['legend']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['visualMap']) {
        option['visualMap']['itemHeight'] = option['visualMap']['itemHeight'] * relative_ratio;
        option['visualMap']['itemWidth'] = option['visualMap']['itemWidth'] * relative_ratio;
        option['visualMap']['textStyle']['fontSize'] = Math.max(7, option['visualMap']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['toolbox']) {
        option['toolbox']['itemSize'] = Math.max(8, option['toolbox']['itemSize'] * relative_ratio)
        option['toolbox']['itemGap'] = Math.max(4, option['toolbox']['itemGap'] * relative_ratio);
      }
      if (option['graphic']) {
        for (var ind = 0; ind < option['graphic'].length; ind++) {
          for (var ind2 = 0; ind2 < option['graphic'][ind]['children'].length; ind2++) {
            var new_font = Math.max(7, 12 * relative_ratio);
            option['graphic'][ind]['children'][ind2]['style']['font'] = new_font.toString() + 'px Microsoft YaHei';
          }
        }
      }
      return option;
    }

    function save_img(echarts_instance, option) {
      const base64_str = echarts_instance.getDataURL({
          pixelRatio: 2,
          backgroundColor: '#fff',
          width: option['figsize']['width'],
          height: option['figsize']['height']
      });

      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_image_save', {
        method: 'post',
        headers: {
          'Content-Type': 'application/json;charset=utf-8;',
          'Access-Control-Allow-Origin':'*',
          'Access-Control-Allow-Credentials': 'true',
          'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
        },
        body: JSON.stringify({'figname': option['figname'],
                              'base64_str': base64_str})
      });
      fetch(testRequest).then(response => {});
    };


    function auto_axis_namegap(echarts_instance, auto_axis_list, axis_type) {
      const globalModel = echarts_instance._api.getModel()
      const figsize = globalModel.option.figsize
      const ctx = document.createElement('canvas').getContext('2d')
      if (typeof globalModel.option['figsize']['width'] === 'string' || globalModel.option['figsize']['width'] instanceof String) {
        if (globalModel.option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(globalModel.option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['width'].includes('px')) {
          var width = parseFloat(globalModel.option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = globalModel.option['figsize']['width'];
      }

      if (typeof globalModel.option['figsize']['height'] === 'string' || globalModel.option['figsize']['height'] instanceof String) {
        if (globalModel.option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(globalModel.option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['height'].includes('px')) {
          var height = parseFloat(globalModel.option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height'];
      }
      var relative_ratio = Math.min(width / 700, height / 400);
      if (axis_type==='2d') {
        const yAxisList = globalModel.option.yAxis
        const xAxisList = globalModel.option.xAxis

        for (var axis_idx of auto_axis_list) {
          const yAxis = yAxisList[axis_idx]
          const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
          const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
          ctx.save()
          ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
  
          const yAxisComponent = globalModel.getComponent('yAxis', axis_idx)?.axis
          if (yAxis.type === 'value') {
            var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
          }
          else {
            var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
          }
          var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
          axisLabelMargin = axisLabelMargin * relative_ratio
          yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
          ctx.restore()
        };
  
        for (var axis_idx of [...Array(xAxisList.length).keys()]) {
          var new_gap = Math.max(xAxisList[axis_idx].nameGap * relative_ratio, 12);
          if (figsize['height'] < 400) {
            new_gap = Math.min(20, new_gap);
          }
          xAxisList[axis_idx].nameGap = new_gap;
        }
  
        echarts_instance.setOption({
          yAxis: yAxisList,
          xAxis: xAxisList
        })
      }
      else {
        const yAxisList = globalModel.option.yAxis3D
        const xAxisList = globalModel.option.xAxis3D
        const zAxisList = globalModel.option.zAxis3D

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < xAxisList.length) {
            const xAxis = xAxisList[axis_idx]
            const fontSize = xAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = xAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const xAxisComponent = globalModel.getComponent('xAxis3D', axis_idx)?.axis
            if (xAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = xAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            xAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < yAxisList.length) {
            const yAxis = yAxisList[axis_idx]
            const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const yAxisComponent = globalModel.getComponent('yAxis3D', axis_idx)?.axis
            if (yAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < zAxisList.length) {
            const zAxis = zAxisList[axis_idx]
            const fontSize = zAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = zAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const zAxisComponent = globalModel.getComponent('zAxis3D', axis_idx)?.axis
            if (zAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = zAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            zAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };
        echarts_instance.setOption({
          yAxis3D: yAxisList,
          xAxis3D: xAxisList,
          zAxis3D: zAxisList
        });
        }
  
    };

    function custom_scatter_size(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['symbolSize'] === 'array_size') {
          var ind_ = option['series'][ind]['data_dict']['size']
          option['series'][ind]['symbolSize'] = function (data) {return data[ind_];}
        }
      }
      return option;
  
    };

    function show_scatter_label(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['label'] === 'show_label') {
          var ind_ = option['series'][ind]['data_dict']['label']
          option['series'][ind]['label'] = {
            show: true,
            formatter: function (params) {return params.data.value[ind_]; }
          }
        }
      }
      return option;
    };

    function hide_min_max_axis_label(option) {
      for (var ind = 0; ind < option['xAxis3D'].length; ind++) {
        if (option['xAxis3D'][ind]['type'] == 'value') {
          var x_min = option['xAxis3D'][ind]['min']
          var x_max = option['xAxis3D'][ind]['max']
          option['xAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==x_min || value==x_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['yAxis3D'].length; ind++) {
        if (option['yAxis3D'][ind]['type'] == 'value') {  
          var y_min = option['yAxis3D'][ind]['min']
          var y_max = option['yAxis3D'][ind]['max']
          option['yAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==y_min || value==y_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['zAxis3D'].length; ind++) {
        if (option['zAxis3D'][ind]['type'] == 'value') {
          var z_min = option['zAxis3D'][ind]['min']
          var z_max = option['zAxis3D'][ind]['max']
          option['zAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==z_min || value==z_max){}
            else {return value}
          }
       }
      }
      return option;
    }

    function custom_axis_label(option) {
      if (Array.isArray(option['xAxis'])) {
        for (var ind = 0; ind < option['xAxis'].length; ind++) {
          if (option['xAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['xAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['xAxis'][ind]['axisLabel']['formatter_func'].body)
            option['xAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['xAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['xAxis']['axisLabel']['formatter_func'].arguments,
                               option['xAxis']['axisLabel']['formatter_func'].body)
          option['xAxis']['axisLabel']['formatter'] = f
        }
      }
      if (Array.isArray(option['yAxis'])) {
        for (var ind = 0; ind < option['yAxis'].length; ind++) {
          if (option['yAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['yAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['yAxis'][ind]['axisLabel']['formatter_func'].body)
            option['yAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['yAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['yAxis']['axisLabel']['formatter_func'].arguments,
                               option['yAxis']['axisLabel']['formatter_func'].body)
          option['yAxis']['axisLabel']['formatter'] = f
        }
      }
      return option;
    }

    function custom_tooltip(option, dimension=2) {

      if (dimension === 2) {
        var xaxis_key = 'xAxis'
        var yaxis_key = 'yAxis'
      }

      else if (dimension === 3) {
        var xaxis_key = 'xAxis3D'
        var yaxis_key = 'yAxis3D'
        var zaxis_key = 'zAxis3D'
      }

      if (option['radar']) {
        var radar_names = []
        for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
          radar_names.push(option['radar']['indicator'][ind_]['name']) 
        }
      }
  
  
      if (option[xaxis_key]['name'] !== null && option[xaxis_key]['name'] !== '' && Array.isArray(option[xaxis_key])!==true) {
        var xaxis_name = option[xaxis_key]['name'];
      }
      else {
        var xaxis_name = 'X';
      }

      if (option[yaxis_key]['name'] !== null && option[yaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
        var yaxis_name = option[yaxis_key]['name'];
      }
      else {
        var yaxis_name = 'Y';
      }

      if (typeof zaxis_key !== 'undefined') {
        if (option[zaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
          var zaxis_name = option[zaxis_key]['name'];
        }
        else {
          var zaxis_name = 'Z';
        }
      }
  
      if (option['tooltip']) {
        if (option['tooltip']['precision']) {
          var precision = option['tooltip']['precision']
          option['tooltip']['valueFormatter'] = (value) =>  Math.round(Number(value) * (10**precision)) / (10**precision)
        }

        for (var ind_ = 0; ind_ < option['series'].length; ind_++) {
          if (option['series'][ind_]['tooltip']) {
            if (option['series'][ind_]['tooltip']['precision']) {
              var precision = option['series'][ind_]['tooltip']['precision']
              const fix = precision_ => value => Math.round(Number(value) * (10**precision_)) / (10**precision_),
              fix_p = fix(precision);
              option['series'][ind_]['tooltip']['valueFormatter'] = function (value) {
                return fix_p(value)
              } 
            }
          }
        }

        if (option['series'].length === 1) {
          if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][0]['type'])) {
            option['tooltip']['formatter'] = function(params) {
              if (params.seriesName.includes('series')) {
                var series_name = ''
              }
          
              else {
                var series_name = params.seriesName + '<br>'
              }
      
              if (params.seriesType === 'scatter') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                  + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                  +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                }
            
              }
  
              else if (params.seriesType === 'heatmap') {
                formatter = params.name + ', ' + option['yAxis'][0]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
              }
      
              else if (params.seriesType === 'scatter3D') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                    + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                    +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                    +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                }
              }
          
              else if (params.seriesType === 'radar') {
                formatter = params.name  + '<br>';
                for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                  if (ind_ !== option['radar']['indicator'].length - 1) {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                  }
                  else {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                  }
                }
              }
            return formatter;
            }
          }
        }
        else {
          for (var out_ind_ = 0; out_ind_ < option['series'].length; out_ind_++) {
            if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][out_ind_]['type'])) {
              if (option['series'][out_ind_]['tooltip']) {
              }
              else {
                option['series'][out_ind_]['tooltip'] = {}
              }
              option['series'][out_ind_]['tooltip']['formatter'] = function(params) {
                if (params.seriesName.includes('series')) {
                  var series_name = ''
                }
            
                else {
                  var series_name = params.seriesName + '<br>'
                }
        
                if (params.seriesType === 'scatter') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                  }
                }
    
                else if (params.seriesType === 'heatmap') {
                  if ('data' in option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]) {
                    formatter = params.name + ', ' + option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
                  }
                  else {
                    formatter = Math.round(params.data[2] * 10000) / 10000
                  }
                
                }
        
                else if (params.seriesType === 'scatter3D') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                      +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                  }
                }
            
                else if (params.seriesType === 'radar') {
                  formatter = params.name  + '<br>';
                  for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                    if (ind_ !== option['radar']['indicator'].length - 1) {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                    }
                    else {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                    }
                  }
                }
              return formatter;
              }
            }
          }
        }
      }
      return option;
    };

    function support_brush_event(option) {
      if (option['event']['type_'] === 'brushselected') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var last_selected = [];
        bind_chart.on(option['event']['type_'], (params) => {
          var brushed = [];
          var brushComponent = params.batch[0];
          for (var sIdx = 0; sIdx < brushComponent.selected.length; sIdx++) {
            var rawIndices = brushComponent.selected[sIdx].dataIndex;
            brushed.push(rawIndices);
          }
          var brushed_all = brushed[0];

          if (JSON.stringify(last_selected) !== JSON.stringify(brushed_all)) {

            // Update memory
            let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
              method: 'post',
              headers: {
                  'Content-Type': 'application/json;charset=utf-8;',
                  'Access-Control-Allow-Origin':'*',
                  'Access-Control-Allow-Credentials': 'true',
                  'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
              },
              body: JSON.stringify({'js_func_input':{'selected': brushed_all},
                                    'event_id': option['event']['event_id']})
            });
            var dom_dict = {}
            fetch(testRequest).then(response => {
              var result = response.json();
              result.then(res => {
                dom_dict[res['link_id']] = document.getElementById(res['link_id']);
                setInnerHTML(dom_dict[res['link_id']], res['html']);
              });
            });
            last_selected = brushed_all;
          }
                            
        // bind_chart.setOption(option);
        })
      }
      return option;
    };

    function support_click_event(option) {
      if (option['event']['type_'] === 'click') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });

        if (option['series'][0]['orient'] === 'vertical') {
          var value_idx = 0
        }
        else {
          var value_idx = 1
        }
    

        bind_chart.on(option['event']['type_'], (params) => {
          if (option['event']['task'] === 'singleselect') {
            for (var ind_2 = 0; ind_2 < option['series'][0]['data'].length; ind_2++) {
              if (option['series'][0]['data'][ind_2]['itemStyle']['color'] !== '#1f77b4') {
                option['series'][0]['data'][ind_2]['itemStyle']['color'] = '#1f77b4';
              }
            }
            var idx = option['series'][0]['x_value'].indexOf(params.value[value_idx])
            option['series'][0]['data'][idx]['itemStyle']['color'] = '#ff7f0e';

            var selected = params.value[value_idx];
          }
          else {
            console.log(params);
          }
      
          let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'selected': selected},
                                  'event_id': option['event']['event_id']})
          });
          var dom_dict = {}
          fetch(testRequest).then(response => {
            var result = response.json();
            result.then(res => {
              dom_dict[res['link_id']] = document.getElementById(res['link_id']);
              setInnerHTML(dom_dict[res['link_id']], res['html']);
            });
          });
          bind_chart.setOption(option);
        });
      }
      return option;
    };option = support_scientific_notation(option=option);option = custom_tooltip(option=option, dimension=2);option = custom_scatter_size(option=option);option = show_scatter_label(option=option);option = custom_axis_label(option=option);option = auto_component_size(option=option);getScreenSize(option=option);

                myChart.setOption(option);
                window.addEventListener('resize', function () {
                    myChart.resize();
                    var option_copy = JSON.parse(JSON.stringify(option));
                    option_copy['figsize']['height'] = myChart.getHeight();
                    option_copy['figsize']['width'] = myChart.getWidth();
                    // option_copy = auto_component_size(option_copy);
                    myChart.setOption(option_copy);
                });
            <\/script>
            </body>
            </html>
        <style>
    .dg.main.taller-than-window .close-button {
        border-top: 1px solid #ddd;
    }

    .dg.main .close-button {
        background-color: #e8e8e8;
    }
 
    .dg.main .close-button:hover {
        background-color: #ddd;
    }

    .dg {
        color: #555;
        text-shadow: none !important;
    }

    .dg.main::-webkit-scrollbar {
        background: #fafafa;
    }

    .dg.main::-webkit-scrollbar-thumb {
        background: #bbb;
    }
 
    .dg li:not(.folder) {
        background: #fafafa;
        border-bottom: 1px solid #ddd;
    }
 
    .dg li.save-row .button {
        text-shadow: none !important;
    }

    .dg li.title {
        background: #e8e8e8 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;
    }

    .dg .cr.function:hover,.dg .cr.boolean:hover {
        background: #fff;
    }
 
    .dg .c input[type=text] {
        background: #e9e9e9;
    }
 
    .dg .c input[type=text]:hover {
        background: #eee;
    }
 
    .dg .c input[type=text]:focus {
        background: #eee;
        color: #555;
    }
 
    .dg .c .slider {
        background: #e9e9e9;
    }

    .dg .c .slider:hover {
        background: #eee;
    }<\/style>`);option = support_scientific_notation(option=option);option = custom_tooltip(option=option, dimension=2);option = custom_scatter_size(option=option);option = show_scatter_label(option=option);option = custom_axis_label(option=option);option = auto_component_size(option=option);getScreenSize(option=option);

                if (option && typeof option === 'object') {
                    myChart.setOption(option);
                    }

                auto_axis_namegap(echarts_instance=myChart, auto_axis_list=[0], axis_type="2d");

            </script>
            </body>
            </html>
    
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 28-29

Custom Scatter Plot

.. GENERATED FROM PYTHON SOURCE LINES 29-39

.. code-block:: Python

    from sklearn.datasets import make_moons
    X, y = make_moons(n_samples=400, noise=0.1, random_state=42)

    plot = mc.scatterplot(x=X[:,0], y=X[:,1], label=y, symbol_size=15, show_label='serie', smoother_order=3, color=['orange','green'])
    plot.set_legend()
    plot.set_title('Moons')
    plot.set_xaxis(axis_name='X')
    plot.set_yaxis(axis_name='Y')
    # plot.show()
    HTML(plot.show(return_html=True, silent=True))





.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">

                <!DOCTYPE html>
                <html lang="en" style="height: 100%">
                <head>
                <meta charset="utf-8">
                </head>
                <body style="height: 100%; margin: 0">

            
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts-gl/2.0.8/echarts-gl.min.js"></script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>
                <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2.1.0/dist/echarts-wordcloud.min.js"></script>
            
                <div id="1742883546.21732620.3223" style="height: 600px; width: 800px; overflow: auto"></div>
            
                <script type="text/javascript">
                var dom = document.getElementById('1742883546.21732620.3223');
                dom.innerHTML = ""
                dom.setAttribute('_echarts_instance_', '')
                var myChart = echarts.init(dom, null, {
                    renderer: 'canvas',
                    useDirtyRect: false
                    });
                var app = {};

                var option;
        option = {"chart_id": "1742883546.21732620.3223", "link_id": null, "figname": "", "title": {"show": true, "text": "Moons", "link": "", "target": "blank", "textStyle": {"fontStyle": "normal", "fontWeight": "bolder", "fontFamily": "sans-serif", "fontSize": 15, "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "subtext": "", "sublink": "", "subtarget": "blank", "textAlign": "center", "textVerticalAlign": "auto", "padding": 0, "itemGap": 10, "z": 2, "left": "45.0%", "top": "5%", "right": "auto", "bottom": "auto", "backgroundColor": "transparent", "borderColor": "#ccc", "changed_name_key": {"id_": "id"}}, "grid": {"show": true, "width": "auto", "height": "auto", "z": 2, "left": "5%", "top": "10%", "right": "20%", "bottom": "5%", "borderColor": "#ccc", "borderWidth": 1, "containLabel": true, "backgroundColor": "transparent", "changed_name_key": {"id_": "id"}}, "legend": {"show": true, "type": "plain", "width": "auto", "height": "auto", "orient": "vertical", "align": "auto", "itemWidth": 25, "itemHeight": 14, "symbolRotate": "inherit", "selectedMode": true, "padding": 5, "itemGap": 10, "z": 4, "left": "auto", "top": "10%", "right": "1%", "bottom": "auto", "borderColor": "#ccc", "borderWidth": 1, "inactiveColor": "#ccc", "inactiveBorderColor": "#ccc", "inactiveBorderWidth": "auto", "selected": {}, "textStyle": {"overflow": "truncate", "fontSize": 12, "color": "#747475"}, "pageButtonItemGap": 5, "pageButtonPosition": "end", "pageFormatter": "{current}/{total}", "pageIconColor": "#2f4554", "pageIconInactiveColor": "#aaa", "pageIconSize": 15, "animationDurationUpdate": 800, "selectorItemGap": 7, "selectorButtonGap": 10}, "brush": null, "yAxis": [{"show": true, "data": [0.0637333413838218, 0.10385341149637894, 0.1430443743961144, 0.1813096649810444, 0.21865271814918685, 0.255076968798558, 0.2905858518271752, 0.32518280213305606, 0.3588712546142172, 0.3916546441686757, 0.4235364056944486, 0.45451997408955336, 0.4846087842520067, 0.5138062710798257, 0.5421158694710277, 0.5695410143236296, 0.5960851405356488, 0.6217516830051018, 0.6465440766300061, 0.6704657563083787, 0.6935201569382368, 0.7157107134175972, 0.7370408606444774, 0.757514033516894, 0.7771336669328643, 0.7959031957904056, 0.8138260549875347, 0.8309056794222689, 0.8471455039926251, 0.8625489635966205, 0.8771194931322721, 0.890860527497597, 0.9037755015906125, 0.9158678503093354, 0.9271410085517829, 0.9375984112159721, 0.94724349319992, 0.9560796894016438, 0.9641104347191606, 0.9713391640504873, 0.9777693122936412, 0.9834043143466393, 0.9882476051074987, 0.9923026194742364, 0.9955727923448696, 0.9980615586174153, 0.9997723531898907, 1.0007086109603127, 1.0008737668266987, 1.0002712556870654, 0.9989045124394302, 0.99677697198181, 0.993892069212222, 0.9902532390286831, 0.9858639163292107, 0.9807275360118216, 0.974847532974533, 0.968227342115362, 0.9608703983323257, 0.9527801365234411, 0.9439599915867254, 0.9344133984201956, 0.9241437919218688, 0.913154606989762, 0.9014492785218925, 0.8890312414162773, 0.8759039305709333, 0.8620707808838779, 0.8475352272531279, 0.8323007045767007, 0.8163706477526129, 0.7997484916788822, 0.7824376712535254, 0.7644416213745593, 0.7457637769400014, 0.7264075728478685, 0.7063764439961779, 0.6856738252829467, 0.6643031516061917, 0.6422678578639303, 0.6195713789541794, 0.5962171497749563, 0.5722086052242776, 0.5475491802001611, 0.5222423096006235, 0.49629142832368156, 0.4696999712673531, 0.4424713733296546, 0.4146090694086031, 0.3861164944022162, 0.35699708320851087, 0.32725427072550395, 0.2968914918512128, 0.2659121814836537, 0.23431977452084496, 0.2021177058608029, 0.169309410401545, 0.13589832304108806, 0.10188787867744842, 0.06728151220864476], "type": "value", "position": "bottom", "name": "Y", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": "auto", "min": -0.8897, "max": 1.321, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": 40.0}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "xAxis": [{"show": true, "data": [-1.1511863158724789, -1.127639383448904, -1.104092451025329, -1.080545518601754, -1.056998586178179, -1.0334516537546041, -1.0099047213310293, -0.9863577889074542, -0.9628108564838792, -0.9392639240603042, -0.9157169916367294, -0.8921700592131543, -0.8686231267895794, -0.8450761943660045, -0.8215292619424295, -0.7979823295188546, -0.7744353970952795, -0.7508884646717047, -0.7273415322481297, -0.7037945998245547, -0.6802476674009797, -0.6567007349774048, -0.6331538025538298, -0.6096068701302549, -0.58605993770668, -0.562513005283105, -0.53896607285953, -0.515419140435955, -0.4918722080123801, -0.4683252755888052, -0.44477834316523024, -0.42123141074165527, -0.3976844783180803, -0.3741375458945053, -0.35059061347093035, -0.3270436810473554, -0.3034967486237805, -0.27994981620020554, -0.25640288377663056, -0.2328559513530556, -0.20930901892948062, -0.18576208650590564, -0.16221515408233078, -0.1386682216587558, -0.11512128923518072, -0.09157435681160586, -0.068027424388031, -0.044480491964455915, -0.020933559540881053, 0.0026133728826940317, 0.026160305306268894, 0.04970723772984398, 0.07325417015341884, 0.0968011025769937, 0.12034803500056879, 0.14389496742414365, 0.16744189984771873, 0.1909888322712936, 0.21453576469486846, 0.23808269711844354, 0.2616296295420184, 0.2851765619655935, 0.30872349438916835, 0.33227042681274344, 0.3558173592363183, 0.37936429165989316, 0.40291122408346824, 0.4264581565070431, 0.4500050889306182, 0.47355202135419305, 0.49709895377776814, 0.520645886201343, 0.5441928186249179, 0.567739751048493, 0.5912866834720678, 0.6148336158956429, 0.6383805483192178, 0.6619274807427926, 0.6854744131663677, 0.7090213455899426, 0.7325682780135176, 0.7561152104370925, 0.7796621428606676, 0.8032090752842425, 0.8267560077078173, 0.8503029401313924, 0.8738498725549673, 0.8973968049785421, 0.9209437374021174, 0.9444906698256923, 0.9680376022492672, 0.991584534672842, 1.0151314670964169, 1.0386783995199922, 1.062225331943567, 1.085772264367142, 1.1093191967907168, 1.1328661292142916, 1.156413061637867, 1.179959994061442], "type": "value", "position": "bottom", "name": "X", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": 30, "min": -1.5002, "max": 2.5026, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": null}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "parallelAxis": null, "series": [{"type": "scatter", "name": "1", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "label": "serie", "emphasis": {"focus": "none"}, "seriesLayoutBy": "column", "data": [{"value": [-0.04405185436455387, 0.43607778101760863], "itemStyle": {"opacity": 0.8}}, {"value": [0.6922304485774229, -0.4011194632440612], "itemStyle": {"opacity": 0.8}}, {"value": [0.17881242677930137, 0.26886231388723847], "itemStyle": {"opacity": 0.8}}, {"value": [1.3757911943525358, -0.4513290871112877], "itemStyle": {"opacity": 0.8}}, {"value": [0.45860466022215285, -0.3476620899215155], "itemStyle": {"opacity": 0.8}}, {"value": [1.8524970559962026, 0.1599189780891384], "itemStyle": {"opacity": 0.8}}, {"value": [0.6189365495878882, -0.6523278952709434], "itemStyle": {"opacity": 0.8}}, {"value": [1.8927960119108467, 0.158747858462253], "itemStyle": {"opacity": 0.8}}, {"value": [0.11756338555092069, 0.10550256974316223], "itemStyle": {"opacity": 0.8}}, {"value": [2.169029362678773, 0.32216590687738944], "itemStyle": {"opacity": 0.8}}, {"value": [2.0669459262896903, 0.5549359778342985], "itemStyle": {"opacity": 0.8}}, {"value": [0.5877990025461418, -0.4275752586735255], "itemStyle": {"opacity": 0.8}}, {"value": [2.0490213676870517, 0.5587208679105828], "itemStyle": {"opacity": 0.8}}, {"value": [0.02237367735743013, -0.011244065183244362], "itemStyle": {"opacity": 0.8}}, {"value": [0.453000976269902, -0.37282399872071736], "itemStyle": {"opacity": 0.8}}, {"value": [2.1534991209951535, 0.3387743351635715], "itemStyle": {"opacity": 0.8}}, {"value": [0.6240688008428807, -0.3249173888665629], "itemStyle": {"opacity": 0.8}}, {"value": [0.11590511420338562, -0.03455360646626812], "itemStyle": {"opacity": 0.8}}, {"value": [1.7828070067277453, -0.23043958881624316], "itemStyle": {"opacity": 0.8}}, {"value": [1.806489808286964, 0.25595173111671626], "itemStyle": {"opacity": 0.8}}, {"value": [2.0034066514848714, 0.2223803368419529], "itemStyle": {"opacity": 0.8}}, {"value": [1.3419458957279273, -0.43467545128738916], "itemStyle": {"opacity": 0.8}}, {"value": [1.5452174341489513, -0.2025606431151623], "itemStyle": {"opacity": 0.8}}, {"value": [1.764957168546406, 0.12339506639239467], "itemStyle": {"opacity": 0.8}}, {"value": [0.033462363099337374, 0.19067157702276952], "itemStyle": {"opacity": 0.8}}, {"value": [0.8408477423017393, -0.683810686127401], "itemStyle": {"opacity": 0.8}}, {"value": [0.2964391408080224, -0.41241573507105345], "itemStyle": {"opacity": 0.8}}, {"value": [1.6831546515793194, -0.3177480119227779], "itemStyle": {"opacity": 0.8}}, {"value": [0.43826348511034413, -0.38340484123539237], "itemStyle": {"opacity": 0.8}}, {"value": [1.740452092301724, 0.5354200429219066], "itemStyle": {"opacity": 0.8}}, {"value": [1.3012044573186852, -0.4195693110355442], "itemStyle": {"opacity": 0.8}}, {"value": [2.021650614049808, 0.3481653007891365], "itemStyle": {"opacity": 0.8}}, {"value": [0.16473890548509473, -0.18751597646936197], "itemStyle": {"opacity": 0.8}}, {"value": [-0.009247095964754717, 0.03742781347292015], "itemStyle": {"opacity": 0.8}}, {"value": [1.7690167227990816, 0.20281525401323897], "itemStyle": {"opacity": 0.8}}, {"value": [0.702434617830942, -0.5634133844961742], "itemStyle": {"opacity": 0.8}}, {"value": [-0.15095907350779758, 0.5363974171515313], "itemStyle": {"opacity": 0.8}}, {"value": [0.28341059943157637, -0.1450026982659779], "itemStyle": {"opacity": 0.8}}, {"value": [0.686247114883507, -0.40495076112290174], "itemStyle": {"opacity": 0.8}}, {"value": [0.4135899135206339, -0.2320469450349981], "itemStyle": {"opacity": 0.8}}, {"value": [1.0577396586654602, -0.5010974292201972], "itemStyle": {"opacity": 0.8}}, {"value": [0.06324742529253595, 0.013266377828641828], "itemStyle": {"opacity": 0.8}}, {"value": [1.5658002856216526, -0.15587107312135612], "itemStyle": {"opacity": 0.8}}, {"value": [0.2090468050023805, 0.24958736254698483], "itemStyle": {"opacity": 0.8}}, {"value": [1.1529542320186548, -0.5388390359189088], "itemStyle": {"opacity": 0.8}}, {"value": [1.8320855582539974, 0.007344939439863404], "itemStyle": {"opacity": 0.8}}, {"value": [1.9886682809991771, 0.17873633391097563], "itemStyle": {"opacity": 0.8}}, {"value": [-0.16419264277805473, -0.10434745860853986], "itemStyle": {"opacity": 0.8}}, {"value": [0.20654495134218467, 0.07817393049748056], "itemStyle": {"opacity": 0.8}}, {"value": [1.7419705803807746, -0.08661529391898053], "itemStyle": {"opacity": 0.8}}, {"value": [1.8949012493453714, -0.1871317902982838], "itemStyle": {"opacity": 0.8}}, {"value": [2.0281830266713725, 0.37029889398262206], "itemStyle": {"opacity": 0.8}}, {"value": [0.7295586309939159, -0.37240717905441106], "itemStyle": {"opacity": 0.8}}, {"value": [2.0165730120568788, 0.15904904573753528], "itemStyle": {"opacity": 0.8}}, {"value": [1.0090524120850748, -0.7054738367924506], "itemStyle": {"opacity": 0.8}}, {"value": [0.8291064621354819, -0.5651271337464877], "itemStyle": {"opacity": 0.8}}, {"value": [1.1864304003533328, -0.519764696461732], "itemStyle": {"opacity": 0.8}}, {"value": [0.7588546454896044, -0.45614703155803], "itemStyle": {"opacity": 0.8}}, {"value": [1.8498418744289271, 0.006391413083718239], "itemStyle": {"opacity": 0.8}}, {"value": [1.6638459329092838, -0.21466511695958101], "itemStyle": {"opacity": 0.8}}, {"value": [1.6872832037570835, -0.390961809823812], "itemStyle": {"opacity": 0.8}}, {"value": [0.25971854240486086, -0.14858140113014096], "itemStyle": {"opacity": 0.8}}, {"value": [1.260522773047423, -0.4766645861004665], "itemStyle": {"opacity": 0.8}}, {"value": [0.5687897887080057, -0.2677047542484201], "itemStyle": {"opacity": 0.8}}, {"value": [0.13234844337348306, 0.00912932714886762], "itemStyle": {"opacity": 0.8}}, {"value": [0.5078751167554956, -0.48441334225022337], "itemStyle": {"opacity": 0.8}}, {"value": [-0.11594691159512407, 0.24031371708309332], "itemStyle": {"opacity": 0.8}}, {"value": [1.0831469058632226, -0.7040686518936875], "itemStyle": {"opacity": 0.8}}, {"value": [0.9063697767081207, -0.3263153064040736], "itemStyle": {"opacity": 0.8}}, {"value": [0.7803374476056197, -0.3862360517512149], "itemStyle": {"opacity": 0.8}}, {"value": [1.922550311349182, -0.023703499695742647], "itemStyle": {"opacity": 0.8}}, {"value": [1.5611843539210797, -0.2802004578206971], "itemStyle": {"opacity": 0.8}}, {"value": [0.4481765327303048, -0.16445885394768184], "itemStyle": {"opacity": 0.8}}, {"value": [1.3457410648452206, -0.6347527000227957], "itemStyle": {"opacity": 0.8}}, {"value": [1.9250783905350084, 0.2703337265054317], "itemStyle": {"opacity": 0.8}}, {"value": [2.128778248212025, 0.3285139273519466], "itemStyle": {"opacity": 0.8}}, {"value": [0.0706262481600407, 0.27277848784097924], "itemStyle": {"opacity": 0.8}}, {"value": [1.0274744413540133, -0.5378165485798784], "itemStyle": {"opacity": 0.8}}, {"value": [1.7928565099136062, -0.09965088293999937], "itemStyle": {"opacity": 0.8}}, {"value": [2.0071012074483465, 0.14070793064631937], "itemStyle": {"opacity": 0.8}}, {"value": [0.05187296202004671, 0.11809294944569163], "itemStyle": {"opacity": 0.8}}, {"value": [1.1736206804738114, -0.26267904632598404], "itemStyle": {"opacity": 0.8}}, {"value": [0.2432922979322884, -0.2985209827634067], "itemStyle": {"opacity": 0.8}}, {"value": [1.3365798384645975, -0.4000759499004397], "itemStyle": {"opacity": 0.8}}, {"value": [-0.17983124228592573, 0.27210742336973803], "itemStyle": {"opacity": 0.8}}, {"value": [1.498489509539917, -0.5554431740207553], "itemStyle": {"opacity": 0.8}}, {"value": [1.975693655313992, 0.22898137437768737], "itemStyle": {"opacity": 0.8}}, {"value": [1.3769137547348915, -0.3990335438365677], "itemStyle": {"opacity": 0.8}}, {"value": [1.6728813869324226, -0.28120663796327605], "itemStyle": {"opacity": 0.8}}, {"value": [1.6448138852597582, -0.42347286188539957], "itemStyle": {"opacity": 0.8}}, {"value": [1.6705417974900587, -0.1316839261626955], "itemStyle": {"opacity": 0.8}}, {"value": [1.457852249627546, -0.22512481834440223], "itemStyle": {"opacity": 0.8}}, {"value": [0.976715110638505, -0.5487601936944003], "itemStyle": {"opacity": 0.8}}, {"value": [-0.1223731313381849, 0.34272142754523316], "itemStyle": {"opacity": 0.8}}, {"value": [0.796228522033799, -0.6021366375822279], "itemStyle": {"opacity": 0.8}}, {"value": [0.15475677041477062, 0.25817568609572544], "itemStyle": {"opacity": 0.8}}, {"value": [0.7888519002662029, -0.5251206254974262], "itemStyle": {"opacity": 0.8}}, {"value": [1.4758331265836486, -0.42390792934014865], "itemStyle": {"opacity": 0.8}}, {"value": [0.04061773858849012, 0.19092611177757238], "itemStyle": {"opacity": 0.8}}, {"value": [1.3533832696767325, -0.47274322766457466], "itemStyle": {"opacity": 0.8}}, {"value": [1.0366465155314608, -0.4985476580125366], "itemStyle": {"opacity": 0.8}}, {"value": [1.8936032702640215, 0.14287399006123414], "itemStyle": {"opacity": 0.8}}, {"value": [0.5943858451752875, -0.528630928174813], "itemStyle": {"opacity": 0.8}}, {"value": [1.885006370759624, 0.10420737924262266], "itemStyle": {"opacity": 0.8}}, {"value": [0.9389125135270914, -0.5135540452630449], "itemStyle": {"opacity": 0.8}}, {"value": [1.7893976221378944, -0.26387131943612496], "itemStyle": {"opacity": 0.8}}, {"value": [0.3603982008922027, -0.12579009793677248], "itemStyle": {"opacity": 0.8}}, {"value": [1.9371282674993187, 0.3675642914202532], "itemStyle": {"opacity": 0.8}}, {"value": [0.0083564707053621, 0.5320457749816218], "itemStyle": {"opacity": 0.8}}, {"value": [0.06357500148967771, -0.07375254500638109], "itemStyle": {"opacity": 0.8}}, {"value": [0.4229368998509608, -0.03656097531307502], "itemStyle": {"opacity": 0.8}}, {"value": [1.874315243153208, -0.05318329701654417], "itemStyle": {"opacity": 0.8}}, {"value": [0.07222261812178199, 0.13627157664599823], "itemStyle": {"opacity": 0.8}}, {"value": [1.6470491039434203, -0.16757444093230295], "itemStyle": {"opacity": 0.8}}, {"value": [1.9686415215524833, 0.10291719279716784], "itemStyle": {"opacity": 0.8}}, {"value": [1.7843131131506498, -0.1520068909668203], "itemStyle": {"opacity": 0.8}}, {"value": [2.0873045148599823, 0.28530735074108815], "itemStyle": {"opacity": 0.8}}, {"value": [1.3148496627000024, -0.44725774744016616], "itemStyle": {"opacity": 0.8}}, {"value": [1.9508672322774856, 0.3900256213166849], "itemStyle": {"opacity": 0.8}}, {"value": [0.2825817386035496, -0.16532079284824672], "itemStyle": {"opacity": 0.8}}, {"value": [0.938344700184442, -0.6327445340710072], "itemStyle": {"opacity": 0.8}}, {"value": [0.15227499084567703, 0.02198057941962034], "itemStyle": {"opacity": 0.8}}, {"value": [0.7461365894557511, -0.5110142065757868], "itemStyle": {"opacity": 0.8}}, {"value": [1.9701048704314503, 0.06999163949717546], "itemStyle": {"opacity": 0.8}}, {"value": [0.2049831993182284, -0.37334478387442843], "itemStyle": {"opacity": 0.8}}, {"value": [1.325082692179819, -0.4694932597705525], "itemStyle": {"opacity": 0.8}}, {"value": [0.5568693550491782, -0.28647303390245527], "itemStyle": {"opacity": 0.8}}, {"value": [0.07750159554668323, 0.2177456466088653], "itemStyle": {"opacity": 0.8}}, {"value": [0.18786203305535706, -0.20224818473919925], "itemStyle": {"opacity": 0.8}}, {"value": [1.0060978915552157, -0.6716737343647], "itemStyle": {"opacity": 0.8}}, {"value": [1.0993371067091071, -0.5255392480328201], "itemStyle": {"opacity": 0.8}}, {"value": [1.0604130877330895, -0.664348506659051], "itemStyle": {"opacity": 0.8}}, {"value": [0.08128104436835105, 0.5655440149193591], "itemStyle": {"opacity": 0.8}}, {"value": [0.2621963091845073, -0.2605001465555224], "itemStyle": {"opacity": 0.8}}, {"value": [1.4462645794969085, -0.44476972105908064], "itemStyle": {"opacity": 0.8}}, {"value": [0.2791274315012009, -0.26884664450584866], "itemStyle": {"opacity": 0.8}}, {"value": [1.9261906290309088, -0.034101486858117314], "itemStyle": {"opacity": 0.8}}, {"value": [0.2185468890445362, 0.20383370529796563], "itemStyle": {"opacity": 0.8}}, {"value": [1.6237768965846349, -0.33120103482858776], "itemStyle": {"opacity": 0.8}}, {"value": [0.031333571273604, 0.24276731510751107], "itemStyle": {"opacity": 0.8}}, {"value": [0.008629185751882248, 0.24999982561095813], "itemStyle": {"opacity": 0.8}}, {"value": [0.5993675602813255, -0.5724314430588369], "itemStyle": {"opacity": 0.8}}, {"value": [0.1018886995222481, 0.49498808243247494], "itemStyle": {"opacity": 0.8}}, {"value": [1.525369983953064, 0.0019297974426112918], "itemStyle": {"opacity": 0.8}}, {"value": [1.2136000567339893, -0.3417331989379858], "itemStyle": {"opacity": 0.8}}, {"value": [0.23308716959053433, 0.1275069459089364], "itemStyle": {"opacity": 0.8}}, {"value": [0.15132759806894286, -0.23883742575743933], "itemStyle": {"opacity": 0.8}}, {"value": [0.7976359593737035, -0.3839793843645204], "itemStyle": {"opacity": 0.8}}, {"value": [1.961108543928387, 0.040814972387245074], "itemStyle": {"opacity": 0.8}}, {"value": [0.8487619173221225, -0.4363056984528748], "itemStyle": {"opacity": 0.8}}, {"value": [1.8916875532375046, 0.09509014818593642], "itemStyle": {"opacity": 0.8}}, {"value": [1.3528302565382921, -0.4265362405070112], "itemStyle": {"opacity": 0.8}}, {"value": [0.14554876861527338, 0.2169283752033758], "itemStyle": {"opacity": 0.8}}, {"value": [0.74380252328883, -0.4984572915678237], "itemStyle": {"opacity": 0.8}}, {"value": [1.6283256315766768, -0.25284515660924667], "itemStyle": {"opacity": 0.8}}, {"value": [0.20872539439732596, 0.08119429053081831], "itemStyle": {"opacity": 0.8}}, {"value": [0.01575435537698975, 0.23973280995637058], "itemStyle": {"opacity": 0.8}}, {"value": [0.08103530943841337, 0.5570725509248531], "itemStyle": {"opacity": 0.8}}, {"value": [0.9398855834587191, -0.6683544103342967], "itemStyle": {"opacity": 0.8}}, {"value": [1.8681586907315795, -0.02515342308285237], "itemStyle": {"opacity": 0.8}}, {"value": [0.2982728817544293, -0.12638098881700316], "itemStyle": {"opacity": 0.8}}, {"value": [2.1277507888341294, 0.42675405509515674], "itemStyle": {"opacity": 0.8}}, {"value": [1.846066968959805, 0.10121826279463625], "itemStyle": {"opacity": 0.8}}, {"value": [0.905843066983084, -0.5700794902937782], "itemStyle": {"opacity": 0.8}}, {"value": [0.4764277360194793, -0.38939614448640203], "itemStyle": {"opacity": 0.8}}, {"value": [0.05079807673102646, 0.46414246315263463], "itemStyle": {"opacity": 0.8}}, {"value": [0.09090431203597911, 0.23872062239361602], "itemStyle": {"opacity": 0.8}}, {"value": [1.1645508833612985, -0.40249503600795367], "itemStyle": {"opacity": 0.8}}, {"value": [0.45777725614298304, -0.10078345978288639], "itemStyle": {"opacity": 0.8}}, {"value": [0.0225989916723915, 0.40528001022145993], "itemStyle": {"opacity": 0.8}}, {"value": [0.40095040462607473, -0.27463813164370005], "itemStyle": {"opacity": 0.8}}, {"value": [1.5057375454140596, -0.37329350355500024], "itemStyle": {"opacity": 0.8}}, {"value": [1.5589905162770326, -0.23748233613720784], "itemStyle": {"opacity": 0.8}}, {"value": [0.4463256730065187, -0.328051945416493], "itemStyle": {"opacity": 0.8}}, {"value": [0.3209014155840095, -0.12664039057205045], "itemStyle": {"opacity": 0.8}}, {"value": [1.3193048015154476, -0.40253376846929073], "itemStyle": {"opacity": 0.8}}, {"value": [0.6689344099794808, -0.3160694603337302], "itemStyle": {"opacity": 0.8}}, {"value": [1.6369396239440042, -0.4744664601030904], "itemStyle": {"opacity": 0.8}}, {"value": [1.8250086156767336, 0.5437106356516351], "itemStyle": {"opacity": 0.8}}, {"value": [1.0911356663298046, -0.6172332210395521], "itemStyle": {"opacity": 0.8}}, {"value": [1.9771635326594774, 0.3666784091668318], "itemStyle": {"opacity": 0.8}}, {"value": [1.2487446961310449, -0.36527871113721005], "itemStyle": {"opacity": 0.8}}, {"value": [0.2680686577935133, -0.07010628425274437], "itemStyle": {"opacity": 0.8}}, {"value": [2.0397784183254832, 0.5374177752148195], "itemStyle": {"opacity": 0.8}}, {"value": [1.5811433931248629, -0.1694959403716835], "itemStyle": {"opacity": 0.8}}, {"value": [0.13264402366925823, -0.158979629866297], "itemStyle": {"opacity": 0.8}}, {"value": [0.17583821874143654, -0.1711557573059312], "itemStyle": {"opacity": 0.8}}, {"value": [1.2559789044345149, -0.5769106371591088], "itemStyle": {"opacity": 0.8}}, {"value": [0.6671056801212313, -0.4360539225120356], "itemStyle": {"opacity": 0.8}}, {"value": [0.803862955043394, -0.3328595135185971], "itemStyle": {"opacity": 0.8}}, {"value": [1.755527350459414, -0.19911487236295916], "itemStyle": {"opacity": 0.8}}, {"value": [0.4722598345644735, -0.19863427705176354], "itemStyle": {"opacity": 0.8}}, {"value": [1.1014506588758581, -0.486249852261357], "itemStyle": {"opacity": 0.8}}, {"value": [1.668619917195012, -0.20106864327115975], "itemStyle": {"opacity": 0.8}}, {"value": [1.9207005824962247, 0.05914098492307132], "itemStyle": {"opacity": 0.8}}, {"value": [1.6106948141690762, -0.23393265974914823], "itemStyle": {"opacity": 0.8}}, {"value": [0.06152089034007621, 0.26358525411585665], "itemStyle": {"opacity": 0.8}}, {"value": [2.051806694384509, 0.6307986637140104], "itemStyle": {"opacity": 0.8}}, {"value": [0.7241611107656446, -0.28599311361127777], "itemStyle": {"opacity": 0.8}}, {"value": [1.929872146707251, -0.2633258370146662], "itemStyle": {"opacity": 0.8}}], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "orange", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 15, "symbolOffset": [0, 0], "large": true, "largeThreshold": 1000, "progressive": 400, "progressiveThreshold": 3000, "data_dict": {}, "is_text": false, "ignore_axis": false}, {"type": "line", "name": "1", "colorBy": "series", "z": 5, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [[-0.17983124228592573, 0.5049469825640507], [-0.15610537758931262, 0.4666297037219297], [-0.1323795128926995, 0.42897609364827716], [-0.10865364819608637, 0.3919901247931449], [-0.08492778349947326, 0.35567576960658437], [-0.06120191880286015, 0.32003700053864725], [-0.03747605410624702, 0.28507779003938505], [-0.013750189409633906, 0.25080211055884954], [0.009975675286979208, 0.2172139345470922], [0.03370153998359232, 0.18431723445416476], [0.057427404680205435, 0.15211598273011873], [0.08115326937681855, 0.12061415182500579], [0.10487913407343169, 0.08981571418887746], [0.12860499877004478, 0.05972464227178553], [0.15233086346665792, 0.03034490852378141], [0.176056728163271, 0.0016804853949168863], [0.19978259285988414, -0.02626465466475661], [0.2235084575564973, -0.05348653920518728], [0.24723432225311037, -0.07998119577632354], [0.2709601869497235, -0.10574465192811397], [0.2946860516463366, -0.13077293521050673], [0.31841191634294974, -0.15506207317345025], [0.3421377810395628, -0.17860809336689307], [0.3658636457361759, -0.20140702334078334], [0.3895895104327891, -0.22345489064506965], [0.4133153751294022, -0.24474772282970028], [0.4370412398260153, -0.2652815474446236], [0.4607671045226285, -0.28505239203978816], [0.48449296921924156, -0.3040562841651422], [0.5082188339158547, -0.32228925137063413], [0.5319446986124677, -0.3397473212062122], [0.5556705633090809, -0.35642652122182517], [0.579396428005694, -0.372322878967421], [0.6031222927023071, -0.38743242199294836], [0.6268481573989203, -0.40175117784835557], [0.6505740220955334, -0.41527517408359094], [0.6742998867921465, -0.4280004382486029], [0.6980257514887596, -0.4399229978933399], [0.7217516161853728, -0.4510388805677502], [0.7454774808819858, -0.4613441138217823], [0.7692033455785989, -0.4708347252053846], [0.7929292102752121, -0.4795067422685054], [0.8166550749718252, -0.4873561925610931], [0.8403809396684384, -0.4943791036330961], [0.8641068043650514, -0.5005715030344629], [0.8878326690616646, -0.5059294183151416], [0.9115585337582776, -0.5104488770250808], [0.9352843984548908, -0.514125906714229], [0.959010263151504, -0.5169565349325344], [0.9827361278481169, -0.5189367892299453], [1.0064619925447302, -0.5200626971564103], [1.0301878572413434, -0.5203302862618777], [1.0539137219379562, -0.5197355840962958], [1.0776395866345694, -0.5182746182096133], [1.1013654513311826, -0.5159434161517782], [1.1250913160277958, -0.5127380054727391], [1.148817180724409, -0.5086544137224441], [1.1725430454210222, -0.503688668450842], [1.196268910117635, -0.4978367972078812], [1.2199947748142481, -0.49109482754350964], [1.2437206395108613, -0.4834587870076761], [1.2674465042074745, -0.47492470315032875], [1.2911723689040877, -0.46548860352141586], [1.3148982336007005, -0.4551465156708864], [1.3386240982973137, -0.4438944671486883], [1.3623499629939269, -0.43172848550476983], [1.38607582769054, -0.4186445982890794], [1.4098016923871532, -0.404638833051566], [1.4335275570837664, -0.38970721734217717], [1.4572534217803792, -0.3738457787108622], [1.4809792864769924, -0.35705054470756836], [1.5047051511736056, -0.3393175428822449], [1.5284310158702188, -0.3206428007848402], [1.552156880566832, -0.301022345965302], [1.5758827452634447, -0.28045220597357956], [1.599608609960058, -0.2589284083596206], [1.6233344746566711, -0.2364469806733733], [1.6470603393532843, -0.21300395046478707], [1.6707862040498975, -0.1885953452838092], [1.6945120687465107, -0.16321719268038884], [1.7182379334431235, -0.13686552020447437], [1.7419637981397367, -0.1095363554060135], [1.7656896628363499, -0.08122572583495499], [1.789415527532963, -0.051929659041247106], [1.8131413922295763, -0.021644182574838383], [1.8368672569261895, 0.009634676014322552], [1.8605931216228027, 0.0419108891762876], [1.8843189863194154, 0.07518842936110803], [1.9080448510160286, 0.10947126901883579], [1.9317707157126418, 0.14476338059952296], [1.955496580409255, 0.18106873655322075], [1.9792224451058682, 0.2183913093299803], [2.002948309802481, 0.25673507137985324], [2.026674174499094, 0.29610399515289165], [2.0504000391957073, 0.33650205309914755], [2.0741259038923205, 0.3779332176686717], [2.0978517685889337, 0.42040146131151657], [2.121577633285547, 0.4639107564777334], [2.1453034979821597, 0.5084650756173722], [2.169029362678773, 0.5540683911804872]], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "linear", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "orange", "symbol": "emptyCircle", "coordinateSystem": "cartesian2d", "symbolSize": 0, "symbolOffset": [0, 0], "showSymbol": true, "showAllSymbol": "auto", "tooltip_trigger": "axis"}, {"type": "scatter", "name": "1", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [{"value": [1.0061811137348255, -0.12670988380810277], "label": {"show": true, "color": "#ffffff", "formatter": "1", "fontSize": 14, "textBorderColor": "orange", "fontWeight": "bold", "textBorderWidth": 2}}], "silent": true, "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 0, "symbolOffset": [0, 0], "largeThreshold": 2000, "progressive": 400, "progressiveThreshold": 3000, "is_text": true, "ignore_axis": false}, {"type": "scatter", "name": "0", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "label": "serie", "emphasis": {"focus": "none"}, "seriesLayoutBy": "column", "data": [{"value": [0.8281977981485314, 0.5415218892178506], "itemStyle": {"opacity": 0.8}}, {"value": [0.09171539700050081, 0.9461179874453445], "itemStyle": {"opacity": 0.8}}, {"value": [0.40156045922972966, 0.9268166356399812], "itemStyle": {"opacity": 0.8}}, {"value": [0.07314713993172753, 0.9168823205037456], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4178031928161623, 0.9969302258350213], "itemStyle": {"opacity": 0.8}}, {"value": [0.9579878024190793, 0.12114286887719278], "itemStyle": {"opacity": 0.8}}, {"value": [0.5552516585363515, 0.965685772429867], "itemStyle": {"opacity": 0.8}}, {"value": [0.3022727378193304, 0.9301292941685252], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5247965363754132, 0.7897125490862673], "itemStyle": {"opacity": 0.8}}, {"value": [0.8580279728331913, 0.6755129042792798], "itemStyle": {"opacity": 0.8}}, {"value": [0.404559599307745, 0.95239331683874], "itemStyle": {"opacity": 0.8}}, {"value": [1.0893364137634811, 0.28773650388840166], "itemStyle": {"opacity": 0.8}}, {"value": [1.0446289348001918, 0.11362423171192629], "itemStyle": {"opacity": 0.8}}, {"value": [-0.29381359169325855, 0.8871058855450891], "itemStyle": {"opacity": 0.8}}, {"value": [0.052039835716421845, 0.8683552101965917], "itemStyle": {"opacity": 0.8}}, {"value": [-1.119340367715941, 0.012114675029737565], "itemStyle": {"opacity": 0.8}}, {"value": [0.6746685269538756, 0.7648464577460884], "itemStyle": {"opacity": 0.8}}, {"value": [-0.25247367792137004, 1.0157254753141933], "itemStyle": {"opacity": 0.8}}, {"value": [-0.043682834885529404, 0.789928213280756], "itemStyle": {"opacity": 0.8}}, {"value": [-0.834513603902822, 0.5482327588836816], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5049155905696417, 0.8158505869016326], "itemStyle": {"opacity": 0.8}}, {"value": [0.7605778678586781, 0.8490047684040152], "itemStyle": {"opacity": 0.8}}, {"value": [0.29985442632480913, 0.7977673987470991], "itemStyle": {"opacity": 0.8}}, {"value": [0.8905252470097118, 0.7099043476407715], "itemStyle": {"opacity": 0.8}}, {"value": [0.11826978657090345, 0.8778058534457707], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7130367234824387, 0.923394078614817], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0452223143606545, 0.2789271744465052], "itemStyle": {"opacity": 0.8}}, {"value": [0.9604818564529551, 0.2598976348965632], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0610029020734704, 0.4259623231575948], "itemStyle": {"opacity": 0.8}}, {"value": [0.9290715732995999, 0.7044894326221837], "itemStyle": {"opacity": 0.8}}, {"value": [0.3985161871037338, 0.7578228472730179], "itemStyle": {"opacity": 0.8}}, {"value": [0.9224449677324292, 0.6012696775757825], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8919029408079996, 0.4960748810175608], "itemStyle": {"opacity": 0.8}}, {"value": [1.0225793504988576, 0.36066014634971644], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9710888438761187, 0.6405981687615638], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4791414581275831, 1.0093246672652925], "itemStyle": {"opacity": 0.8}}, {"value": [0.4919544089308461, 0.9901126903122439], "itemStyle": {"opacity": 0.8}}, {"value": [0.0410776773647474, 1.0533222871839638], "itemStyle": {"opacity": 0.8}}, {"value": [0.9666350914963895, 0.5834251609429104], "itemStyle": {"opacity": 0.8}}, {"value": [0.21658112980549674, 0.9736687007203508], "itemStyle": {"opacity": 0.8}}, {"value": [-0.64388146241787, 0.8241928619908845], "itemStyle": {"opacity": 0.8}}, {"value": [0.9496985380360062, 0.023234430827277622], "itemStyle": {"opacity": 0.8}}, {"value": [0.668370667035115, 0.8047279428402697], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0104913674247578, 0.26766467034661684], "itemStyle": {"opacity": 0.8}}, {"value": [0.9493893492279155, 0.042395034693238194], "itemStyle": {"opacity": 0.8}}, {"value": [0.8953640992371084, 0.12029412831425107], "itemStyle": {"opacity": 0.8}}, {"value": [0.42168660618408793, 0.8574857282534363], "itemStyle": {"opacity": 0.8}}, {"value": [0.0034514995502456514, 0.9232315981434537], "itemStyle": {"opacity": 0.8}}, {"value": [0.2647671231050478, 0.9512736717500212], "itemStyle": {"opacity": 0.8}}, {"value": [-0.2559695512442949, 0.9769812759008681], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0197784695319896, 0.4310704881654892], "itemStyle": {"opacity": 0.8}}, {"value": [0.3254160858230126, 1.0154113850377267], "itemStyle": {"opacity": 0.8}}, {"value": [-0.02532499674177502, 0.947301799237025], "itemStyle": {"opacity": 0.8}}, {"value": [1.0832306132818155, 0.30243413363940314], "itemStyle": {"opacity": 0.8}}, {"value": [0.5278969205172018, 0.9436475009919663], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7422978282856605, 0.688066258718179], "itemStyle": {"opacity": 0.8}}, {"value": [1.0762354226047843, 0.31552877308582405], "itemStyle": {"opacity": 0.8}}, {"value": [0.9804704487371622, 0.25009378313745445], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7609520671028389, 1.0259518073320897], "itemStyle": {"opacity": 0.8}}, {"value": [-0.49651016735263764, 1.020847176615835], "itemStyle": {"opacity": 0.8}}, {"value": [0.8181446341926059, 0.7016062224228446], "itemStyle": {"opacity": 0.8}}, {"value": [0.47919081281108183, 0.8667912886886442], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9246852132955579, 0.6659339268772327], "itemStyle": {"opacity": 0.8}}, {"value": [-0.19973768447083562, 1.0933060138877637], "itemStyle": {"opacity": 0.8}}, {"value": [0.940616481696544, 0.25749074749584544], "itemStyle": {"opacity": 0.8}}, {"value": [1.0076808280989389, 0.34117127567420824], "itemStyle": {"opacity": 0.8}}, {"value": [-0.966543565363345, 0.28801758688468887], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9976923228984038, 0.48813212785537713], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5812357980233047, 0.6748887284276055], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9002692152319717, 0.2619201140227827], "itemStyle": {"opacity": 0.8}}, {"value": [-0.25582248118023304, 1.0180954146828698], "itemStyle": {"opacity": 0.8}}, {"value": [-1.1138631338303022, -0.08705661343128906], "itemStyle": {"opacity": 0.8}}, {"value": [0.9771117727121236, 0.40745819890591284], "itemStyle": {"opacity": 0.8}}, {"value": [-0.32661461873026315, 0.7493900295321627], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6203513588550882, 0.8387098635497955], "itemStyle": {"opacity": 0.8}}, {"value": [-1.1511863158724789, -0.06624355977916652], "itemStyle": {"opacity": 0.8}}, {"value": [0.5955667439508922, 0.6386728106302391], "itemStyle": {"opacity": 0.8}}, {"value": [-0.1308958348924223, 0.9641399984129664], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8799966733224986, 0.283554573861271], "itemStyle": {"opacity": 0.8}}, {"value": [1.1750337382650022, 0.08712904314172767], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7585085272396329, 0.748141806207555], "itemStyle": {"opacity": 0.8}}, {"value": [1.051622752860439, 0.07573563016822103], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8092021378321275, 0.13687902584671832], "itemStyle": {"opacity": 0.8}}, {"value": [-0.07657329479524141, 1.0123246744592231], "itemStyle": {"opacity": 0.8}}, {"value": [0.3643485289920689, 0.9587332861968995], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9039386882590633, 0.4860442990090752], "itemStyle": {"opacity": 0.8}}, {"value": [0.23340051836624431, 0.9718404298026123], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7848715472141286, 0.587953083507366], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6052644989118215, 0.7955689362691734], "itemStyle": {"opacity": 0.8}}, {"value": [0.18346525575039668, 0.863886260883799], "itemStyle": {"opacity": 0.8}}, {"value": [0.4357050503972449, 0.947112468815042], "itemStyle": {"opacity": 0.8}}, {"value": [-0.19161096380566223, 1.0144581477653083], "itemStyle": {"opacity": 0.8}}, {"value": [0.23246382980226774, 0.958636539202684], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6089928003474744, 0.8538968611679508], "itemStyle": {"opacity": 0.8}}, {"value": [-0.14663398900921182, 1.098915276229116], "itemStyle": {"opacity": 0.8}}, {"value": [0.2481370154715898, 1.0221280706067108], "itemStyle": {"opacity": 0.8}}, {"value": [1.056272964342253, 0.26708618818460234], "itemStyle": {"opacity": 0.8}}, {"value": [0.7460124466135112, 0.6027220092407295], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6474151293600467, 0.8686578241100799], "itemStyle": {"opacity": 0.8}}, {"value": [-0.2998246700886737, 1.0958782230964785], "itemStyle": {"opacity": 0.8}}, {"value": [-0.867194684720239, 0.3372444433127365], "itemStyle": {"opacity": 0.8}}, {"value": [0.45564543502722626, 0.8287075193222752], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0050512879881874, 0.19988054900735763], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6805626396188176, 0.08132969177833893], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6490735256969274, 0.8815049333413835], "itemStyle": {"opacity": 0.8}}, {"value": [-0.536868509390947, 0.9423719015542634], "itemStyle": {"opacity": 0.8}}, {"value": [0.09373483171858374, 0.9093489420473164], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9263843640116586, 0.21098414319755895], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5405845524825568, 0.9181117639438922], "itemStyle": {"opacity": 0.8}}, {"value": [0.9305692278235662, 0.5398249074259076], "itemStyle": {"opacity": 0.8}}, {"value": [0.9784119369643645, 0.25352612158237964], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0200230889843025, 0.22748717279219446], "itemStyle": {"opacity": 0.8}}, {"value": [-0.3154849918885533, 1.0083104690182787], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0223978310048576, 0.4011067930232193], "itemStyle": {"opacity": 0.8}}, {"value": [-0.04510451879071933, 0.7991491020390376], "itemStyle": {"opacity": 0.8}}, {"value": [-0.994564259030683, 0.6713911383163779], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4408604389520875, 0.7384652081800833], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5151095273058485, 0.8471182066753098], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0563766442123035, -0.3568205299359881], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0351547981205815, 0.05539817597695543], "itemStyle": {"opacity": 0.8}}, {"value": [0.9166357854923943, 0.12373202160019528], "itemStyle": {"opacity": 0.8}}, {"value": [-0.12004194518298957, 0.7527784391323216], "itemStyle": {"opacity": 0.8}}, {"value": [0.9981936878290952, 0.21096138080488983], "itemStyle": {"opacity": 0.8}}, {"value": [-0.30368999098948596, 1.0459161417121352], "itemStyle": {"opacity": 0.8}}, {"value": [-0.39790391370032724, 0.982030294351673], "itemStyle": {"opacity": 0.8}}, {"value": [0.49229061778845873, 0.8693150287473763], "itemStyle": {"opacity": 0.8}}, {"value": [0.8494651045710285, 0.5435623850119276], "itemStyle": {"opacity": 0.8}}, {"value": [0.19481701963916617, 1.0914306332660042], "itemStyle": {"opacity": 0.8}}, {"value": [-0.10148376708261908, 0.8954007189495029], "itemStyle": {"opacity": 0.8}}, {"value": [-0.33440741651656025, 0.872152223717397], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9103538545522244, 0.11457950315220794], "itemStyle": {"opacity": 0.8}}, {"value": [0.7980254495229531, 0.7023762060734993], "itemStyle": {"opacity": 0.8}}, {"value": [0.652791628022177, 0.8679890511284588], "itemStyle": {"opacity": 0.8}}, {"value": [0.15095217091376792, 0.9735792211196405], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0351508911672802, 0.2352123895851974], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8495786602831639, 0.5257157557542287], "itemStyle": {"opacity": 0.8}}, {"value": [1.0732469394954367, 0.0966570840121739], "itemStyle": {"opacity": 0.8}}, {"value": [0.922355666831577, 0.3915777156856398], "itemStyle": {"opacity": 0.8}}, {"value": [1.179959994061442, 0.40620951502008384], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9293446879170691, 0.5563002807945711], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6635954598691399, 0.9287284123514572], "itemStyle": {"opacity": 0.8}}, {"value": [0.12508148690837878, 1.0107712649386078], "itemStyle": {"opacity": 0.8}}, {"value": [0.7450034565443301, 0.7090896365466174], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9080886149685693, 0.220602393102044], "itemStyle": {"opacity": 0.8}}, {"value": [0.5858015888336551, 0.5679185764822606], "itemStyle": {"opacity": 0.8}}, {"value": [1.0643805747202955, 0.16411977735553548], "itemStyle": {"opacity": 0.8}}, {"value": [0.07587637693033553, 1.1367673776383977], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0991324877898918, 0.3998281611302054], "itemStyle": {"opacity": 0.8}}, {"value": [0.05943075792034612, 0.9409926919168601], "itemStyle": {"opacity": 0.8}}, {"value": [0.7067448851525836, 0.7849651477267724], "itemStyle": {"opacity": 0.8}}, {"value": [0.8727925257301244, 0.40450279943881134], "itemStyle": {"opacity": 0.8}}, {"value": [1.0098726006114973, 0.6137062126291011], "itemStyle": {"opacity": 0.8}}, {"value": [1.054941483052359, 0.22300462646561692], "itemStyle": {"opacity": 0.8}}, {"value": [-0.808584190274535, 0.549473350974221], "itemStyle": {"opacity": 0.8}}, {"value": [-0.573486935719889, 0.7653864752163864], "itemStyle": {"opacity": 0.8}}, {"value": [0.3974880824749839, 0.8866068075128529], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6121576257879583, 0.8269448471682256], "itemStyle": {"opacity": 0.8}}, {"value": [-0.40620203173039965, 0.6919572681002077], "itemStyle": {"opacity": 0.8}}, {"value": [0.8059004682255754, 0.09598584740679728], "itemStyle": {"opacity": 0.8}}, {"value": [0.577010942050867, 0.921427860837215], "itemStyle": {"opacity": 0.8}}, {"value": [0.95116813790414, 0.13090585233804364], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8431589135514671, 0.708073706544875], "itemStyle": {"opacity": 0.8}}, {"value": [0.8345576822705425, 0.5953673442120604], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9159944605722037, 0.662046710981531], "itemStyle": {"opacity": 0.8}}, {"value": [0.7547580557250606, 0.6381008654279617], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9855961407261281, 0.24465186146853457], "itemStyle": {"opacity": 0.8}}, {"value": [-0.0457775363766378, 1.060030149286084], "itemStyle": {"opacity": 0.8}}, {"value": [0.7800780371174919, 0.7488019569243001], "itemStyle": {"opacity": 0.8}}, {"value": [0.9360900798447133, -0.03162831609870871], "itemStyle": {"opacity": 0.8}}, {"value": [0.6689785958971225, 0.6036520491736346], "itemStyle": {"opacity": 0.8}}, {"value": [0.33478569722706114, 0.8900372542109308], "itemStyle": {"opacity": 0.8}}, {"value": [0.8552106280976605, 0.5669552804252124], "itemStyle": {"opacity": 0.8}}, {"value": [0.2905170667683744, 1.025321115737968], "itemStyle": {"opacity": 0.8}}, {"value": [0.6567229379131222, 0.6722832366601202], "itemStyle": {"opacity": 0.8}}, {"value": [0.8604722047896834, 0.163902767064797], "itemStyle": {"opacity": 0.8}}, {"value": [0.23241761555025903, 0.9210944649201596], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9368801423457123, 0.49356261972143056], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4044565529876215, 0.8096130028026692], "itemStyle": {"opacity": 0.8}}, {"value": [0.6096776291794008, 0.7174606455400276], "itemStyle": {"opacity": 0.8}}, {"value": [0.519633282205532, 0.6532250811403223], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8067740153047347, 0.29157261562178366], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0655947175512142, 0.2212330253379633], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0984313739240208, 0.44471746141975255], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0115042991719052, 0.471523890580423], "itemStyle": {"opacity": 0.8}}, {"value": [0.593417605519658, 0.6742885813462738], "itemStyle": {"opacity": 0.8}}, {"value": [0.6893488089833144, 0.6896349026977713], "itemStyle": {"opacity": 0.8}}, {"value": [0.7968700476436335, 0.3571278338151201], "itemStyle": {"opacity": 0.8}}, {"value": [-0.72730191303691, 0.4057417900374254], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0039351561663472, 0.00817004076966052], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8515613634567728, 0.7009224597105803], "itemStyle": {"opacity": 0.8}}, {"value": [-0.344768061166429, 0.8202303548674952], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6240556307959167, 0.6964627164785605], "itemStyle": {"opacity": 0.8}}, {"value": [0.09982365388048871, 1.055221255419995], "itemStyle": {"opacity": 0.8}}, {"value": [0.21711474696683666, 1.068621936007729], "itemStyle": {"opacity": 0.8}}, {"value": [-0.3183138362478756, 0.995160530592945], "itemStyle": {"opacity": 0.8}}, {"value": [1.1621430615794484, 0.28999256891276015], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7693711814576643, 0.2900083101499388], "itemStyle": {"opacity": 0.8}}, {"value": [0.42481712855727227, 1.0503355163432597], "itemStyle": {"opacity": 0.8}}, {"value": [0.06612998562530321, 0.9487101716012722], "itemStyle": {"opacity": 0.8}}, {"value": [-0.0747996734498523, 0.7965550564269417], "itemStyle": {"opacity": 0.8}}], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "green", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 15, "symbolOffset": [0, 0], "large": true, "largeThreshold": 1000, "progressive": 400, "progressiveThreshold": 3000, "data_dict": {}, "is_text": false, "ignore_axis": false}, {"type": "line", "name": "0", "colorBy": "series", "z": 5, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [[-1.1511863158724789, 0.0637333413838218], [-1.127639383448904, 0.10385341149637894], [-1.104092451025329, 0.1430443743961144], [-1.080545518601754, 0.1813096649810444], [-1.056998586178179, 0.21865271814918685], [-1.0334516537546041, 0.255076968798558], [-1.0099047213310293, 0.2905858518271752], [-0.9863577889074542, 0.32518280213305606], [-0.9628108564838792, 0.3588712546142172], [-0.9392639240603042, 0.3916546441686757], [-0.9157169916367294, 0.4235364056944486], [-0.8921700592131543, 0.45451997408955336], [-0.8686231267895794, 0.4846087842520067], [-0.8450761943660045, 0.5138062710798257], [-0.8215292619424295, 0.5421158694710277], [-0.7979823295188546, 0.5695410143236296], [-0.7744353970952795, 0.5960851405356488], [-0.7508884646717047, 0.6217516830051018], [-0.7273415322481297, 0.6465440766300061], [-0.7037945998245547, 0.6704657563083787], [-0.6802476674009797, 0.6935201569382368], [-0.6567007349774048, 0.7157107134175972], [-0.6331538025538298, 0.7370408606444774], [-0.6096068701302549, 0.757514033516894], [-0.58605993770668, 0.7771336669328643], [-0.562513005283105, 0.7959031957904056], [-0.53896607285953, 0.8138260549875347], [-0.515419140435955, 0.8309056794222689], [-0.4918722080123801, 0.8471455039926251], [-0.4683252755888052, 0.8625489635966205], [-0.44477834316523024, 0.8771194931322721], [-0.42123141074165527, 0.890860527497597], [-0.3976844783180803, 0.9037755015906125], [-0.3741375458945053, 0.9158678503093354], [-0.35059061347093035, 0.9271410085517829], [-0.3270436810473554, 0.9375984112159721], [-0.3034967486237805, 0.94724349319992], [-0.27994981620020554, 0.9560796894016438], [-0.25640288377663056, 0.9641104347191606], [-0.2328559513530556, 0.9713391640504873], [-0.20930901892948062, 0.9777693122936412], [-0.18576208650590564, 0.9834043143466393], [-0.16221515408233078, 0.9882476051074987], [-0.1386682216587558, 0.9923026194742364], [-0.11512128923518072, 0.9955727923448696], [-0.09157435681160586, 0.9980615586174153], [-0.068027424388031, 0.9997723531898907], [-0.044480491964455915, 1.0007086109603127], [-0.020933559540881053, 1.0008737668266987], [0.0026133728826940317, 1.0002712556870654], [0.026160305306268894, 0.9989045124394302], [0.04970723772984398, 0.99677697198181], [0.07325417015341884, 0.993892069212222], [0.0968011025769937, 0.9902532390286831], [0.12034803500056879, 0.9858639163292107], [0.14389496742414365, 0.9807275360118216], [0.16744189984771873, 0.974847532974533], [0.1909888322712936, 0.968227342115362], [0.21453576469486846, 0.9608703983323257], [0.23808269711844354, 0.9527801365234411], [0.2616296295420184, 0.9439599915867254], [0.2851765619655935, 0.9344133984201956], [0.30872349438916835, 0.9241437919218688], [0.33227042681274344, 0.913154606989762], [0.3558173592363183, 0.9014492785218925], [0.37936429165989316, 0.8890312414162773], [0.40291122408346824, 0.8759039305709333], [0.4264581565070431, 0.8620707808838779], [0.4500050889306182, 0.8475352272531279], [0.47355202135419305, 0.8323007045767007], [0.49709895377776814, 0.8163706477526129], [0.520645886201343, 0.7997484916788822], [0.5441928186249179, 0.7824376712535254], [0.567739751048493, 0.7644416213745593], [0.5912866834720678, 0.7457637769400014], [0.6148336158956429, 0.7264075728478685], [0.6383805483192178, 0.7063764439961779], [0.6619274807427926, 0.6856738252829467], [0.6854744131663677, 0.6643031516061917], [0.7090213455899426, 0.6422678578639303], [0.7325682780135176, 0.6195713789541794], [0.7561152104370925, 0.5962171497749563], [0.7796621428606676, 0.5722086052242776], [0.8032090752842425, 0.5475491802001611], [0.8267560077078173, 0.5222423096006235], [0.8503029401313924, 0.49629142832368156], [0.8738498725549673, 0.4696999712673531], [0.8973968049785421, 0.4424713733296546], [0.9209437374021174, 0.4146090694086031], [0.9444906698256923, 0.3861164944022162], [0.9680376022492672, 0.35699708320851087], [0.991584534672842, 0.32725427072550395], [1.0151314670964169, 0.2968914918512128], [1.0386783995199922, 0.2659121814836537], [1.062225331943567, 0.23431977452084496], [1.085772264367142, 0.2021177058608029], [1.1093191967907168, 0.169309410401545], [1.1328661292142916, 0.13589832304108806], [1.156413061637867, 0.10188787867744842], [1.179959994061442, 0.06728151220864476]], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "linear", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "green", "symbol": "emptyCircle", "coordinateSystem": "cartesian2d", "symbolSize": 0, "symbolOffset": [0, 0], "showSymbol": true, "showAllSymbol": "auto", "tooltip_trigger": "axis"}, {"type": "scatter", "name": "0", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [{"value": [0.01311461976556954, 0.6343786206375378], "label": {"show": true, "color": "#ffffff", "formatter": "0", "fontSize": 14, "textBorderColor": "green", "fontWeight": "bold", "textBorderWidth": 2}}], "silent": true, "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 0, "symbolOffset": [0, 0], "largeThreshold": 2000, "progressive": 400, "progressiveThreshold": 3000, "is_text": true, "ignore_axis": false}], "visualMap": null, "toolbox": {"show": true, "orient": "horizontal", "itemSize": 15, "itemGap": 8, "showTitle": true, "feature": {"dataZoom": {}, "saveAsImage": {}}, "z": 2, "left": "auto", "top": "auto", "right": "1%", "bottom": "auto", "width": "auto", "height": "auto", "popup": true, "changed_name_key": {"id_": "id"}}, "tooltip": {"show": true, "custom_tooltip": false, "trigger": "item", "axisPointer": {"show": true, "type": "line"}, "showContent": true, "triggerOn": "mousemove|click", "hideDelay": 100, "enterable": true, "renderMode": "html", "confine": true, "transitionDuration": 0.4, "borderColor": "#333", "padding": 5, "order": "seriesAsc"}, "dataZoom": null, "event": null, "graphic": null, "radar": null, "figsize": {"height": 600, "width": 800}, "color": ["#1f77b4", "#ff7f0e", "#2ca02c", "#e377c2", "#9467bd", "#d62728", "#8c564b", "#bcbd22", "#17becf", "#7f7f7f"], "save_img": false, "auto_size": true, "style": {"overflow": "auto"}, "port": "5005"};function setInnerHTML(elm, html) {
      elm.innerHTML = html;
  
      Array.from(elm.querySelectorAll("script"))
        .forEach( oldScriptEl => {
          const newScriptEl = document.createElement("script");
      
          Array.from(oldScriptEl.attributes).forEach( attr => {
            newScriptEl.setAttribute(attr.name, attr.value) 
          });
      
          const scriptText = document.createTextNode(oldScriptEl.innerHTML);
          newScriptEl.appendChild(scriptText);
      
          oldScriptEl.parentNode.replaceChild(newScriptEl, oldScriptEl);
      });
    };

    function getScreenSize(option) {
      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_result_save', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'height': screen.height, 'width': screen.width},
                                  'event_id': 'screen_size'})
          });
          fetch(testRequest).then(response => {});
      return 
    }
    function support_scientific_notation(option) {
      if (Array.isArray(option['yAxis'])) {
        for (var tar_ind = 0; tar_ind < option['yAxis'].length; tar_ind++) {
          if (option['yAxis'][tar_ind]['type'] === 'value') {
            option['yAxis'][tar_ind]['axisLabel']['formatter'] = function(val) {
              const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                        '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                        '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
              function toSuperscript(val) {
                if (val.toString().length > 5 && !val.toString().includes('.')) {
                  val = Number(val).toExponential().toString();
                  if (val.includes('-')) {
                    val = val.split('-');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁻' + val1
                  }
                  else if (val.includes('+')) {
                    val = val.split('+');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁺' + val1
                  }
                }
                else {
                  return val
                }
              }
              return toSuperscript(val)
            }
          }
        }
      }
      else {
        if (option['yAxis']['type'] === 'value') {
          option['yAxis']['axisLabel']['formatter'] = function(val) {
            const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                    '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                    '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
            function toSuperscript(val) {
              if (val.toString().length > 5 && !val.toString().includes('.')) {
                val = Number(val).toExponential().toString();
                if (val.includes('-')) {
                  val = val.split('-');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁻' + val1
                }
                else if (val.includes('+')) {
                  val = val.split('+');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁺' + val1
                }
              }
              else {
                return val
              }
            }
            return toSuperscript(val)
          }
        }
      };
      return option;
    };

    function auto_component_size(option) {
      if (typeof option['figsize']['width'] === 'string' || option['figsize']['width'] instanceof String) {
        if (option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['width'].includes('px')) {
          var width = parseFloat(option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = option['figsize']['width']
      }

      if (typeof option['figsize']['height'] === 'string' || option['figsize']['height'] instanceof String) {
        if (option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['height'].includes('px')) {
          var height = parseFloat(option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height']
      }

      var relative_ratio = Math.min(width / 700, height / 400)
      if ('xAxis3D' in option) {
        var keys = ['xAxis3D', 'yAxis3D', 'zAxis3D']
      }
      else {
        var keys = ['xAxis', 'yAxis']
      }
      for (single_key of keys) {
        for (var ind = 0; ind < option[single_key].length; ind++) {
          option[single_key][ind]['nameTextStyle']['fontSize'] = Math.max(7, option[single_key][ind]['nameTextStyle']['fontSize'] * relative_ratio);
          option[single_key][ind]['axisLabel']['fontSize'] = Math.max(7, option[single_key][ind]['axisLabel']['fontSize'] * relative_ratio);
        }
      }
      if (option['series']) {
        for (var ind = 0; ind < option['series'].length; ind++) {
          if (['heatmap', 'bar'].includes(option['series'][ind]['type'])) {
            if (option['series'][ind]['label']) {
              option['series'][ind]['label']['fontSize'] = Math.max(7, option['series'][ind]['label']['fontSize'] * relative_ratio);
            }
          }
        }
      }
      if (option['title']) {
        if (Array.isArray(option['title'])) {
          for (var ind = 0; ind < option['title'].length; ind++) {
            option['title'][ind]['textStyle']['fontSize'] = Math.max(9, option['title'][ind]['textStyle']['fontSize'] * relative_ratio);
          }
        }
        else {
          option['title']['textStyle']['fontSize'] = Math.max(9, option['title']['textStyle']['fontSize'] * relative_ratio);
        }
      }
      if (option['legend']) {
        option['legend']['itemHeight'] = option['legend']['itemHeight'] * relative_ratio;
        option['legend']['itemWidth'] = option['legend']['itemWidth'] * relative_ratio;
        option['legend']['textStyle']['fontSize'] = Math.max(7, option['legend']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['visualMap']) {
        option['visualMap']['itemHeight'] = option['visualMap']['itemHeight'] * relative_ratio;
        option['visualMap']['itemWidth'] = option['visualMap']['itemWidth'] * relative_ratio;
        option['visualMap']['textStyle']['fontSize'] = Math.max(7, option['visualMap']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['toolbox']) {
        option['toolbox']['itemSize'] = Math.max(8, option['toolbox']['itemSize'] * relative_ratio)
        option['toolbox']['itemGap'] = Math.max(4, option['toolbox']['itemGap'] * relative_ratio);
      }
      if (option['graphic']) {
        for (var ind = 0; ind < option['graphic'].length; ind++) {
          for (var ind2 = 0; ind2 < option['graphic'][ind]['children'].length; ind2++) {
            var new_font = Math.max(7, 12 * relative_ratio);
            option['graphic'][ind]['children'][ind2]['style']['font'] = new_font.toString() + 'px Microsoft YaHei';
          }
        }
      }
      return option;
    }

    function save_img(echarts_instance, option) {
      const base64_str = echarts_instance.getDataURL({
          pixelRatio: 2,
          backgroundColor: '#fff',
          width: option['figsize']['width'],
          height: option['figsize']['height']
      });

      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_image_save', {
        method: 'post',
        headers: {
          'Content-Type': 'application/json;charset=utf-8;',
          'Access-Control-Allow-Origin':'*',
          'Access-Control-Allow-Credentials': 'true',
          'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
        },
        body: JSON.stringify({'figname': option['figname'],
                              'base64_str': base64_str})
      });
      fetch(testRequest).then(response => {});
    };


    function auto_axis_namegap(echarts_instance, auto_axis_list, axis_type) {
      const globalModel = echarts_instance._api.getModel()
      const figsize = globalModel.option.figsize
      const ctx = document.createElement('canvas').getContext('2d')
      if (typeof globalModel.option['figsize']['width'] === 'string' || globalModel.option['figsize']['width'] instanceof String) {
        if (globalModel.option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(globalModel.option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['width'].includes('px')) {
          var width = parseFloat(globalModel.option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = globalModel.option['figsize']['width'];
      }

      if (typeof globalModel.option['figsize']['height'] === 'string' || globalModel.option['figsize']['height'] instanceof String) {
        if (globalModel.option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(globalModel.option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['height'].includes('px')) {
          var height = parseFloat(globalModel.option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height'];
      }
      var relative_ratio = Math.min(width / 700, height / 400);
      if (axis_type==='2d') {
        const yAxisList = globalModel.option.yAxis
        const xAxisList = globalModel.option.xAxis

        for (var axis_idx of auto_axis_list) {
          const yAxis = yAxisList[axis_idx]
          const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
          const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
          ctx.save()
          ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
  
          const yAxisComponent = globalModel.getComponent('yAxis', axis_idx)?.axis
          if (yAxis.type === 'value') {
            var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
          }
          else {
            var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
          }
          var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
          axisLabelMargin = axisLabelMargin * relative_ratio
          yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
          ctx.restore()
        };
  
        for (var axis_idx of [...Array(xAxisList.length).keys()]) {
          var new_gap = Math.max(xAxisList[axis_idx].nameGap * relative_ratio, 12);
          if (figsize['height'] < 400) {
            new_gap = Math.min(20, new_gap);
          }
          xAxisList[axis_idx].nameGap = new_gap;
        }
  
        echarts_instance.setOption({
          yAxis: yAxisList,
          xAxis: xAxisList
        })
      }
      else {
        const yAxisList = globalModel.option.yAxis3D
        const xAxisList = globalModel.option.xAxis3D
        const zAxisList = globalModel.option.zAxis3D

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < xAxisList.length) {
            const xAxis = xAxisList[axis_idx]
            const fontSize = xAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = xAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const xAxisComponent = globalModel.getComponent('xAxis3D', axis_idx)?.axis
            if (xAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = xAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            xAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < yAxisList.length) {
            const yAxis = yAxisList[axis_idx]
            const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const yAxisComponent = globalModel.getComponent('yAxis3D', axis_idx)?.axis
            if (yAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < zAxisList.length) {
            const zAxis = zAxisList[axis_idx]
            const fontSize = zAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = zAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const zAxisComponent = globalModel.getComponent('zAxis3D', axis_idx)?.axis
            if (zAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = zAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            zAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };
        echarts_instance.setOption({
          yAxis3D: yAxisList,
          xAxis3D: xAxisList,
          zAxis3D: zAxisList
        });
        }
  
    };

    function custom_scatter_size(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['symbolSize'] === 'array_size') {
          var ind_ = option['series'][ind]['data_dict']['size']
          option['series'][ind]['symbolSize'] = function (data) {return data[ind_];}
        }
      }
      return option;
  
    };

    function show_scatter_label(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['label'] === 'show_label') {
          var ind_ = option['series'][ind]['data_dict']['label']
          option['series'][ind]['label'] = {
            show: true,
            formatter: function (params) {return params.data.value[ind_]; }
          }
        }
      }
      return option;
    };

    function hide_min_max_axis_label(option) {
      for (var ind = 0; ind < option['xAxis3D'].length; ind++) {
        if (option['xAxis3D'][ind]['type'] == 'value') {
          var x_min = option['xAxis3D'][ind]['min']
          var x_max = option['xAxis3D'][ind]['max']
          option['xAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==x_min || value==x_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['yAxis3D'].length; ind++) {
        if (option['yAxis3D'][ind]['type'] == 'value') {  
          var y_min = option['yAxis3D'][ind]['min']
          var y_max = option['yAxis3D'][ind]['max']
          option['yAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==y_min || value==y_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['zAxis3D'].length; ind++) {
        if (option['zAxis3D'][ind]['type'] == 'value') {
          var z_min = option['zAxis3D'][ind]['min']
          var z_max = option['zAxis3D'][ind]['max']
          option['zAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==z_min || value==z_max){}
            else {return value}
          }
       }
      }
      return option;
    }

    function custom_axis_label(option) {
      if (Array.isArray(option['xAxis'])) {
        for (var ind = 0; ind < option['xAxis'].length; ind++) {
          if (option['xAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['xAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['xAxis'][ind]['axisLabel']['formatter_func'].body)
            option['xAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['xAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['xAxis']['axisLabel']['formatter_func'].arguments,
                               option['xAxis']['axisLabel']['formatter_func'].body)
          option['xAxis']['axisLabel']['formatter'] = f
        }
      }
      if (Array.isArray(option['yAxis'])) {
        for (var ind = 0; ind < option['yAxis'].length; ind++) {
          if (option['yAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['yAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['yAxis'][ind]['axisLabel']['formatter_func'].body)
            option['yAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['yAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['yAxis']['axisLabel']['formatter_func'].arguments,
                               option['yAxis']['axisLabel']['formatter_func'].body)
          option['yAxis']['axisLabel']['formatter'] = f
        }
      }
      return option;
    }

    function custom_tooltip(option, dimension=2) {

      if (dimension === 2) {
        var xaxis_key = 'xAxis'
        var yaxis_key = 'yAxis'
      }

      else if (dimension === 3) {
        var xaxis_key = 'xAxis3D'
        var yaxis_key = 'yAxis3D'
        var zaxis_key = 'zAxis3D'
      }

      if (option['radar']) {
        var radar_names = []
        for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
          radar_names.push(option['radar']['indicator'][ind_]['name']) 
        }
      }
  
  
      if (option[xaxis_key]['name'] !== null && option[xaxis_key]['name'] !== '' && Array.isArray(option[xaxis_key])!==true) {
        var xaxis_name = option[xaxis_key]['name'];
      }
      else {
        var xaxis_name = 'X';
      }

      if (option[yaxis_key]['name'] !== null && option[yaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
        var yaxis_name = option[yaxis_key]['name'];
      }
      else {
        var yaxis_name = 'Y';
      }

      if (typeof zaxis_key !== 'undefined') {
        if (option[zaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
          var zaxis_name = option[zaxis_key]['name'];
        }
        else {
          var zaxis_name = 'Z';
        }
      }
  
      if (option['tooltip']) {
        if (option['tooltip']['precision']) {
          var precision = option['tooltip']['precision']
          option['tooltip']['valueFormatter'] = (value) =>  Math.round(Number(value) * (10**precision)) / (10**precision)
        }

        for (var ind_ = 0; ind_ < option['series'].length; ind_++) {
          if (option['series'][ind_]['tooltip']) {
            if (option['series'][ind_]['tooltip']['precision']) {
              var precision = option['series'][ind_]['tooltip']['precision']
              const fix = precision_ => value => Math.round(Number(value) * (10**precision_)) / (10**precision_),
              fix_p = fix(precision);
              option['series'][ind_]['tooltip']['valueFormatter'] = function (value) {
                return fix_p(value)
              } 
            }
          }
        }

        if (option['series'].length === 1) {
          if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][0]['type'])) {
            option['tooltip']['formatter'] = function(params) {
              if (params.seriesName.includes('series')) {
                var series_name = ''
              }
          
              else {
                var series_name = params.seriesName + '<br>'
              }
      
              if (params.seriesType === 'scatter') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                  + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                  +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                }
            
              }
  
              else if (params.seriesType === 'heatmap') {
                formatter = params.name + ', ' + option['yAxis'][0]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
              }
      
              else if (params.seriesType === 'scatter3D') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                    + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                    +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                    +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                }
              }
          
              else if (params.seriesType === 'radar') {
                formatter = params.name  + '<br>';
                for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                  if (ind_ !== option['radar']['indicator'].length - 1) {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                  }
                  else {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                  }
                }
              }
            return formatter;
            }
          }
        }
        else {
          for (var out_ind_ = 0; out_ind_ < option['series'].length; out_ind_++) {
            if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][out_ind_]['type'])) {
              if (option['series'][out_ind_]['tooltip']) {
              }
              else {
                option['series'][out_ind_]['tooltip'] = {}
              }
              option['series'][out_ind_]['tooltip']['formatter'] = function(params) {
                if (params.seriesName.includes('series')) {
                  var series_name = ''
                }
            
                else {
                  var series_name = params.seriesName + '<br>'
                }
        
                if (params.seriesType === 'scatter') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                  }
                }
    
                else if (params.seriesType === 'heatmap') {
                  if ('data' in option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]) {
                    formatter = params.name + ', ' + option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
                  }
                  else {
                    formatter = Math.round(params.data[2] * 10000) / 10000
                  }
                
                }
        
                else if (params.seriesType === 'scatter3D') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                      +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                  }
                }
            
                else if (params.seriesType === 'radar') {
                  formatter = params.name  + '<br>';
                  for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                    if (ind_ !== option['radar']['indicator'].length - 1) {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                    }
                    else {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                    }
                  }
                }
              return formatter;
              }
            }
          }
        }
      }
      return option;
    };

    function support_brush_event(option) {
      if (option['event']['type_'] === 'brushselected') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var last_selected = [];
        bind_chart.on(option['event']['type_'], (params) => {
          var brushed = [];
          var brushComponent = params.batch[0];
          for (var sIdx = 0; sIdx < brushComponent.selected.length; sIdx++) {
            var rawIndices = brushComponent.selected[sIdx].dataIndex;
            brushed.push(rawIndices);
          }
          var brushed_all = brushed[0];

          if (JSON.stringify(last_selected) !== JSON.stringify(brushed_all)) {

            // Update memory
            let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
              method: 'post',
              headers: {
                  'Content-Type': 'application/json;charset=utf-8;',
                  'Access-Control-Allow-Origin':'*',
                  'Access-Control-Allow-Credentials': 'true',
                  'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
              },
              body: JSON.stringify({'js_func_input':{'selected': brushed_all},
                                    'event_id': option['event']['event_id']})
            });
            var dom_dict = {}
            fetch(testRequest).then(response => {
              var result = response.json();
              result.then(res => {
                dom_dict[res['link_id']] = document.getElementById(res['link_id']);
                setInnerHTML(dom_dict[res['link_id']], res['html']);
              });
            });
            last_selected = brushed_all;
          }
                            
        // bind_chart.setOption(option);
        })
      }
      return option;
    };

    function support_click_event(option) {
      if (option['event']['type_'] === 'click') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });

        if (option['series'][0]['orient'] === 'vertical') {
          var value_idx = 0
        }
        else {
          var value_idx = 1
        }
    

        bind_chart.on(option['event']['type_'], (params) => {
          if (option['event']['task'] === 'singleselect') {
            for (var ind_2 = 0; ind_2 < option['series'][0]['data'].length; ind_2++) {
              if (option['series'][0]['data'][ind_2]['itemStyle']['color'] !== '#1f77b4') {
                option['series'][0]['data'][ind_2]['itemStyle']['color'] = '#1f77b4';
              }
            }
            var idx = option['series'][0]['x_value'].indexOf(params.value[value_idx])
            option['series'][0]['data'][idx]['itemStyle']['color'] = '#ff7f0e';

            var selected = params.value[value_idx];
          }
          else {
            console.log(params);
          }
      
          let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'selected': selected},
                                  'event_id': option['event']['event_id']})
          });
          var dom_dict = {}
          fetch(testRequest).then(response => {
            var result = response.json();
            result.then(res => {
              dom_dict[res['link_id']] = document.getElementById(res['link_id']);
              setInnerHTML(dom_dict[res['link_id']], res['html']);
            });
          });
          bind_chart.setOption(option);
        });
      }
      return option;
    };function support_popup(option, height, width, inner_html) {
      option['toolbox']['feature']['myFeature'] = {
        show: true,
        title: 'Open in new window',
        icon: "image://data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDhweCIgd2lkdGg9IjQ4cHgiIHZpZXdCb3g9IjE2MCAtODAwIDY0MCA2NDAiIGZpbGw9IiM2NjY2NjYiPg0KICA8cGF0aCBkPSJNMjE1LjM4LTE2MHEtMjMuMDUgMC0zOS4yMi0xNi4xNlExNjAtMTkyLjMzIDE2MC0yMTUuMzh2LTUyOS4yNHEwLTIzLjA1IDE2LjE2LTM5LjIyUTE5Mi4zMy04MDAgMjE1LjM4LTgwMGgyMjQuMzl2MzAuNzdIMjE1LjM4cS05LjIzIDAtMTYuOTIgNy42OS03LjY5IDcuNjktNy42OSAxNi45MnY1MjkuMjRxMCA5LjIzIDcuNjkgMTYuOTIgNy42OSA3LjY5IDE2LjkyIDcuNjloNTI5LjI0cTkuMjMgMCAxNi45Mi03LjY5IDcuNjktNy42OSA3LjY5LTE2Ljkydi0yMjQuMzlIODAwdjIyNC4zOXEwIDIzLjA1LTE2LjE2IDM5LjIyUTc2Ny42Ny0xNjAgNzQ0LjYyLTE2MEgyMTUuMzhabTE3MS4yNC0yMDQuMzgtMjItMjIuMjQgMzgyLjYxLTM4Mi42MUg1NDEuMzFWLTgwMEg4MDB2MjU4LjY5aC0zMC43N1YtNzQ3TDM4Ni42Mi0zNjQuMzhaIi8+DQo8L3N2Zz4NCg==",
        onclick: function (){
          var height_ = Math.min(screen.height, Math.round(1.5 * parseInt(height.slice(0,-2))))
          var width_ = Math.min(screen.width, Math.round(1.5 * parseInt(width.slice(0,-2))))
          var left = (screen.width/2)-(width_/2);
          var top = (screen.height/2)-(height_/2);
          var win = window.open('template.html', '_blank',
            `height=${height_}px, width=${width_}px, top=${top}px, left=${left}px`,
          );
          win.document.write(`${inner_html}`);
          win.document.close();
        }
      };
      return option;
    };option = support_popup(option=option, height="600px", width="800px", inner_html=`

            <html lang="en" style="height: 100%; text-align: -webkit-center; align-content: center">
            <title>MoCharts</title>
            <head> <meta charset="utf-8"> </head>
            <body style="height: 100%; margin: 0">
        
        
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"><\/script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts-gl/2.0.8/echarts-gl.min.js"><\/script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"><\/script>
                <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2.1.0/dist/echarts-wordcloud.min.js"><\/script>
            

            <div id="1742883546.21732620.3223" style="height: 90%; width: 90%"></div>
            <script type="text/javascript">
                var dom = document.getElementById('1742883546.21732620.3223');
                var myChart = echarts.init(dom, null, {
                    renderer: 'canvas',
                    useDirtyRect: false
                    });
                var app = {};

                var option;
            option = {"chart_id": "1742883546.21732620.3223", "link_id": null, "figname": "", "title": {"show": true, "text": "Moons", "link": "", "target": "blank", "textStyle": {"fontStyle": "normal", "fontWeight": "bolder", "fontFamily": "sans-serif", "fontSize": 15, "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "subtext": "", "sublink": "", "subtarget": "blank", "textAlign": "center", "textVerticalAlign": "auto", "padding": 0, "itemGap": 10, "z": 2, "left": "45.0%", "top": "5%", "right": "auto", "bottom": "auto", "backgroundColor": "transparent", "borderColor": "#ccc", "changed_name_key": {"id_": "id"}}, "grid": {"show": true, "width": "auto", "height": "auto", "z": 2, "left": "5%", "top": "10%", "right": "20%", "bottom": "5%", "borderColor": "#ccc", "borderWidth": 1, "containLabel": true, "backgroundColor": "transparent", "changed_name_key": {"id_": "id"}}, "legend": {"show": true, "type": "plain", "width": "auto", "height": "auto", "orient": "vertical", "align": "auto", "itemWidth": 25, "itemHeight": 14, "symbolRotate": "inherit", "selectedMode": true, "padding": 5, "itemGap": 10, "z": 4, "left": "auto", "top": "10%", "right": "1%", "bottom": "auto", "borderColor": "#ccc", "borderWidth": 1, "inactiveColor": "#ccc", "inactiveBorderColor": "#ccc", "inactiveBorderWidth": "auto", "selected": {}, "textStyle": {"overflow": "truncate", "fontSize": 12, "color": "#747475"}, "pageButtonItemGap": 5, "pageButtonPosition": "end", "pageFormatter": "{current}/{total}", "pageIconColor": "#2f4554", "pageIconInactiveColor": "#aaa", "pageIconSize": 15, "animationDurationUpdate": 800, "selectorItemGap": 7, "selectorButtonGap": 10}, "brush": null, "yAxis": [{"show": true, "data": [0.0637333413838218, 0.10385341149637894, 0.1430443743961144, 0.1813096649810444, 0.21865271814918685, 0.255076968798558, 0.2905858518271752, 0.32518280213305606, 0.3588712546142172, 0.3916546441686757, 0.4235364056944486, 0.45451997408955336, 0.4846087842520067, 0.5138062710798257, 0.5421158694710277, 0.5695410143236296, 0.5960851405356488, 0.6217516830051018, 0.6465440766300061, 0.6704657563083787, 0.6935201569382368, 0.7157107134175972, 0.7370408606444774, 0.757514033516894, 0.7771336669328643, 0.7959031957904056, 0.8138260549875347, 0.8309056794222689, 0.8471455039926251, 0.8625489635966205, 0.8771194931322721, 0.890860527497597, 0.9037755015906125, 0.9158678503093354, 0.9271410085517829, 0.9375984112159721, 0.94724349319992, 0.9560796894016438, 0.9641104347191606, 0.9713391640504873, 0.9777693122936412, 0.9834043143466393, 0.9882476051074987, 0.9923026194742364, 0.9955727923448696, 0.9980615586174153, 0.9997723531898907, 1.0007086109603127, 1.0008737668266987, 1.0002712556870654, 0.9989045124394302, 0.99677697198181, 0.993892069212222, 0.9902532390286831, 0.9858639163292107, 0.9807275360118216, 0.974847532974533, 0.968227342115362, 0.9608703983323257, 0.9527801365234411, 0.9439599915867254, 0.9344133984201956, 0.9241437919218688, 0.913154606989762, 0.9014492785218925, 0.8890312414162773, 0.8759039305709333, 0.8620707808838779, 0.8475352272531279, 0.8323007045767007, 0.8163706477526129, 0.7997484916788822, 0.7824376712535254, 0.7644416213745593, 0.7457637769400014, 0.7264075728478685, 0.7063764439961779, 0.6856738252829467, 0.6643031516061917, 0.6422678578639303, 0.6195713789541794, 0.5962171497749563, 0.5722086052242776, 0.5475491802001611, 0.5222423096006235, 0.49629142832368156, 0.4696999712673531, 0.4424713733296546, 0.4146090694086031, 0.3861164944022162, 0.35699708320851087, 0.32725427072550395, 0.2968914918512128, 0.2659121814836537, 0.23431977452084496, 0.2021177058608029, 0.169309410401545, 0.13589832304108806, 0.10188787867744842, 0.06728151220864476], "type": "value", "position": "bottom", "name": "Y", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": "auto", "min": -0.8897, "max": 1.321, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": 40.0}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "xAxis": [{"show": true, "data": [-1.1511863158724789, -1.127639383448904, -1.104092451025329, -1.080545518601754, -1.056998586178179, -1.0334516537546041, -1.0099047213310293, -0.9863577889074542, -0.9628108564838792, -0.9392639240603042, -0.9157169916367294, -0.8921700592131543, -0.8686231267895794, -0.8450761943660045, -0.8215292619424295, -0.7979823295188546, -0.7744353970952795, -0.7508884646717047, -0.7273415322481297, -0.7037945998245547, -0.6802476674009797, -0.6567007349774048, -0.6331538025538298, -0.6096068701302549, -0.58605993770668, -0.562513005283105, -0.53896607285953, -0.515419140435955, -0.4918722080123801, -0.4683252755888052, -0.44477834316523024, -0.42123141074165527, -0.3976844783180803, -0.3741375458945053, -0.35059061347093035, -0.3270436810473554, -0.3034967486237805, -0.27994981620020554, -0.25640288377663056, -0.2328559513530556, -0.20930901892948062, -0.18576208650590564, -0.16221515408233078, -0.1386682216587558, -0.11512128923518072, -0.09157435681160586, -0.068027424388031, -0.044480491964455915, -0.020933559540881053, 0.0026133728826940317, 0.026160305306268894, 0.04970723772984398, 0.07325417015341884, 0.0968011025769937, 0.12034803500056879, 0.14389496742414365, 0.16744189984771873, 0.1909888322712936, 0.21453576469486846, 0.23808269711844354, 0.2616296295420184, 0.2851765619655935, 0.30872349438916835, 0.33227042681274344, 0.3558173592363183, 0.37936429165989316, 0.40291122408346824, 0.4264581565070431, 0.4500050889306182, 0.47355202135419305, 0.49709895377776814, 0.520645886201343, 0.5441928186249179, 0.567739751048493, 0.5912866834720678, 0.6148336158956429, 0.6383805483192178, 0.6619274807427926, 0.6854744131663677, 0.7090213455899426, 0.7325682780135176, 0.7561152104370925, 0.7796621428606676, 0.8032090752842425, 0.8267560077078173, 0.8503029401313924, 0.8738498725549673, 0.8973968049785421, 0.9209437374021174, 0.9444906698256923, 0.9680376022492672, 0.991584534672842, 1.0151314670964169, 1.0386783995199922, 1.062225331943567, 1.085772264367142, 1.1093191967907168, 1.1328661292142916, 1.156413061637867, 1.179959994061442], "type": "value", "position": "bottom", "name": "X", "nameLocation": "center", "nameTextStyle": {"color": "#747475", "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "..."}, "nameGap": 30, "min": -1.5002, "max": 2.5026, "splitNumber": 5, "logBase": 10, "axisLine": {}, "axisTick": {"show": true, "alignWithLabel": "none", "interval": "auto", "length": 5}, "axisLabel": {"show": true, "margin": 8, "showMinLabel": false, "showMaxLabel": false, "fontStyle": "normal", "fontWeight": "normal", "fontFamily": "sans-serif", "fontSize": 12, "backgroundColor": "transparent", "borderType": "solid", "shadowColor": "transparent", "textBorderType": "solid", "textShadowColor": "transparent", "overflow": "none", "ellipsis": "...", "width": null}, "splitLine": {"show": true, "interval": "auto"}, "splitArea": {"show": false, "interval": "auto"}, "axisPointer": {"show": false}, "dimension": "2d", "ignored": false, "changed_name_key": {"min_": "min", "max_": "max", "type_": "type", "name_": "name"}}], "parallelAxis": null, "series": [{"type": "scatter", "name": "1", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "label": "serie", "emphasis": {"focus": "none"}, "seriesLayoutBy": "column", "data": [{"value": [-0.04405185436455387, 0.43607778101760863], "itemStyle": {"opacity": 0.8}}, {"value": [0.6922304485774229, -0.4011194632440612], "itemStyle": {"opacity": 0.8}}, {"value": [0.17881242677930137, 0.26886231388723847], "itemStyle": {"opacity": 0.8}}, {"value": [1.3757911943525358, -0.4513290871112877], "itemStyle": {"opacity": 0.8}}, {"value": [0.45860466022215285, -0.3476620899215155], "itemStyle": {"opacity": 0.8}}, {"value": [1.8524970559962026, 0.1599189780891384], "itemStyle": {"opacity": 0.8}}, {"value": [0.6189365495878882, -0.6523278952709434], "itemStyle": {"opacity": 0.8}}, {"value": [1.8927960119108467, 0.158747858462253], "itemStyle": {"opacity": 0.8}}, {"value": [0.11756338555092069, 0.10550256974316223], "itemStyle": {"opacity": 0.8}}, {"value": [2.169029362678773, 0.32216590687738944], "itemStyle": {"opacity": 0.8}}, {"value": [2.0669459262896903, 0.5549359778342985], "itemStyle": {"opacity": 0.8}}, {"value": [0.5877990025461418, -0.4275752586735255], "itemStyle": {"opacity": 0.8}}, {"value": [2.0490213676870517, 0.5587208679105828], "itemStyle": {"opacity": 0.8}}, {"value": [0.02237367735743013, -0.011244065183244362], "itemStyle": {"opacity": 0.8}}, {"value": [0.453000976269902, -0.37282399872071736], "itemStyle": {"opacity": 0.8}}, {"value": [2.1534991209951535, 0.3387743351635715], "itemStyle": {"opacity": 0.8}}, {"value": [0.6240688008428807, -0.3249173888665629], "itemStyle": {"opacity": 0.8}}, {"value": [0.11590511420338562, -0.03455360646626812], "itemStyle": {"opacity": 0.8}}, {"value": [1.7828070067277453, -0.23043958881624316], "itemStyle": {"opacity": 0.8}}, {"value": [1.806489808286964, 0.25595173111671626], "itemStyle": {"opacity": 0.8}}, {"value": [2.0034066514848714, 0.2223803368419529], "itemStyle": {"opacity": 0.8}}, {"value": [1.3419458957279273, -0.43467545128738916], "itemStyle": {"opacity": 0.8}}, {"value": [1.5452174341489513, -0.2025606431151623], "itemStyle": {"opacity": 0.8}}, {"value": [1.764957168546406, 0.12339506639239467], "itemStyle": {"opacity": 0.8}}, {"value": [0.033462363099337374, 0.19067157702276952], "itemStyle": {"opacity": 0.8}}, {"value": [0.8408477423017393, -0.683810686127401], "itemStyle": {"opacity": 0.8}}, {"value": [0.2964391408080224, -0.41241573507105345], "itemStyle": {"opacity": 0.8}}, {"value": [1.6831546515793194, -0.3177480119227779], "itemStyle": {"opacity": 0.8}}, {"value": [0.43826348511034413, -0.38340484123539237], "itemStyle": {"opacity": 0.8}}, {"value": [1.740452092301724, 0.5354200429219066], "itemStyle": {"opacity": 0.8}}, {"value": [1.3012044573186852, -0.4195693110355442], "itemStyle": {"opacity": 0.8}}, {"value": [2.021650614049808, 0.3481653007891365], "itemStyle": {"opacity": 0.8}}, {"value": [0.16473890548509473, -0.18751597646936197], "itemStyle": {"opacity": 0.8}}, {"value": [-0.009247095964754717, 0.03742781347292015], "itemStyle": {"opacity": 0.8}}, {"value": [1.7690167227990816, 0.20281525401323897], "itemStyle": {"opacity": 0.8}}, {"value": [0.702434617830942, -0.5634133844961742], "itemStyle": {"opacity": 0.8}}, {"value": [-0.15095907350779758, 0.5363974171515313], "itemStyle": {"opacity": 0.8}}, {"value": [0.28341059943157637, -0.1450026982659779], "itemStyle": {"opacity": 0.8}}, {"value": [0.686247114883507, -0.40495076112290174], "itemStyle": {"opacity": 0.8}}, {"value": [0.4135899135206339, -0.2320469450349981], "itemStyle": {"opacity": 0.8}}, {"value": [1.0577396586654602, -0.5010974292201972], "itemStyle": {"opacity": 0.8}}, {"value": [0.06324742529253595, 0.013266377828641828], "itemStyle": {"opacity": 0.8}}, {"value": [1.5658002856216526, -0.15587107312135612], "itemStyle": {"opacity": 0.8}}, {"value": [0.2090468050023805, 0.24958736254698483], "itemStyle": {"opacity": 0.8}}, {"value": [1.1529542320186548, -0.5388390359189088], "itemStyle": {"opacity": 0.8}}, {"value": [1.8320855582539974, 0.007344939439863404], "itemStyle": {"opacity": 0.8}}, {"value": [1.9886682809991771, 0.17873633391097563], "itemStyle": {"opacity": 0.8}}, {"value": [-0.16419264277805473, -0.10434745860853986], "itemStyle": {"opacity": 0.8}}, {"value": [0.20654495134218467, 0.07817393049748056], "itemStyle": {"opacity": 0.8}}, {"value": [1.7419705803807746, -0.08661529391898053], "itemStyle": {"opacity": 0.8}}, {"value": [1.8949012493453714, -0.1871317902982838], "itemStyle": {"opacity": 0.8}}, {"value": [2.0281830266713725, 0.37029889398262206], "itemStyle": {"opacity": 0.8}}, {"value": [0.7295586309939159, -0.37240717905441106], "itemStyle": {"opacity": 0.8}}, {"value": [2.0165730120568788, 0.15904904573753528], "itemStyle": {"opacity": 0.8}}, {"value": [1.0090524120850748, -0.7054738367924506], "itemStyle": {"opacity": 0.8}}, {"value": [0.8291064621354819, -0.5651271337464877], "itemStyle": {"opacity": 0.8}}, {"value": [1.1864304003533328, -0.519764696461732], "itemStyle": {"opacity": 0.8}}, {"value": [0.7588546454896044, -0.45614703155803], "itemStyle": {"opacity": 0.8}}, {"value": [1.8498418744289271, 0.006391413083718239], "itemStyle": {"opacity": 0.8}}, {"value": [1.6638459329092838, -0.21466511695958101], "itemStyle": {"opacity": 0.8}}, {"value": [1.6872832037570835, -0.390961809823812], "itemStyle": {"opacity": 0.8}}, {"value": [0.25971854240486086, -0.14858140113014096], "itemStyle": {"opacity": 0.8}}, {"value": [1.260522773047423, -0.4766645861004665], "itemStyle": {"opacity": 0.8}}, {"value": [0.5687897887080057, -0.2677047542484201], "itemStyle": {"opacity": 0.8}}, {"value": [0.13234844337348306, 0.00912932714886762], "itemStyle": {"opacity": 0.8}}, {"value": [0.5078751167554956, -0.48441334225022337], "itemStyle": {"opacity": 0.8}}, {"value": [-0.11594691159512407, 0.24031371708309332], "itemStyle": {"opacity": 0.8}}, {"value": [1.0831469058632226, -0.7040686518936875], "itemStyle": {"opacity": 0.8}}, {"value": [0.9063697767081207, -0.3263153064040736], "itemStyle": {"opacity": 0.8}}, {"value": [0.7803374476056197, -0.3862360517512149], "itemStyle": {"opacity": 0.8}}, {"value": [1.922550311349182, -0.023703499695742647], "itemStyle": {"opacity": 0.8}}, {"value": [1.5611843539210797, -0.2802004578206971], "itemStyle": {"opacity": 0.8}}, {"value": [0.4481765327303048, -0.16445885394768184], "itemStyle": {"opacity": 0.8}}, {"value": [1.3457410648452206, -0.6347527000227957], "itemStyle": {"opacity": 0.8}}, {"value": [1.9250783905350084, 0.2703337265054317], "itemStyle": {"opacity": 0.8}}, {"value": [2.128778248212025, 0.3285139273519466], "itemStyle": {"opacity": 0.8}}, {"value": [0.0706262481600407, 0.27277848784097924], "itemStyle": {"opacity": 0.8}}, {"value": [1.0274744413540133, -0.5378165485798784], "itemStyle": {"opacity": 0.8}}, {"value": [1.7928565099136062, -0.09965088293999937], "itemStyle": {"opacity": 0.8}}, {"value": [2.0071012074483465, 0.14070793064631937], "itemStyle": {"opacity": 0.8}}, {"value": [0.05187296202004671, 0.11809294944569163], "itemStyle": {"opacity": 0.8}}, {"value": [1.1736206804738114, -0.26267904632598404], "itemStyle": {"opacity": 0.8}}, {"value": [0.2432922979322884, -0.2985209827634067], "itemStyle": {"opacity": 0.8}}, {"value": [1.3365798384645975, -0.4000759499004397], "itemStyle": {"opacity": 0.8}}, {"value": [-0.17983124228592573, 0.27210742336973803], "itemStyle": {"opacity": 0.8}}, {"value": [1.498489509539917, -0.5554431740207553], "itemStyle": {"opacity": 0.8}}, {"value": [1.975693655313992, 0.22898137437768737], "itemStyle": {"opacity": 0.8}}, {"value": [1.3769137547348915, -0.3990335438365677], "itemStyle": {"opacity": 0.8}}, {"value": [1.6728813869324226, -0.28120663796327605], "itemStyle": {"opacity": 0.8}}, {"value": [1.6448138852597582, -0.42347286188539957], "itemStyle": {"opacity": 0.8}}, {"value": [1.6705417974900587, -0.1316839261626955], "itemStyle": {"opacity": 0.8}}, {"value": [1.457852249627546, -0.22512481834440223], "itemStyle": {"opacity": 0.8}}, {"value": [0.976715110638505, -0.5487601936944003], "itemStyle": {"opacity": 0.8}}, {"value": [-0.1223731313381849, 0.34272142754523316], "itemStyle": {"opacity": 0.8}}, {"value": [0.796228522033799, -0.6021366375822279], "itemStyle": {"opacity": 0.8}}, {"value": [0.15475677041477062, 0.25817568609572544], "itemStyle": {"opacity": 0.8}}, {"value": [0.7888519002662029, -0.5251206254974262], "itemStyle": {"opacity": 0.8}}, {"value": [1.4758331265836486, -0.42390792934014865], "itemStyle": {"opacity": 0.8}}, {"value": [0.04061773858849012, 0.19092611177757238], "itemStyle": {"opacity": 0.8}}, {"value": [1.3533832696767325, -0.47274322766457466], "itemStyle": {"opacity": 0.8}}, {"value": [1.0366465155314608, -0.4985476580125366], "itemStyle": {"opacity": 0.8}}, {"value": [1.8936032702640215, 0.14287399006123414], "itemStyle": {"opacity": 0.8}}, {"value": [0.5943858451752875, -0.528630928174813], "itemStyle": {"opacity": 0.8}}, {"value": [1.885006370759624, 0.10420737924262266], "itemStyle": {"opacity": 0.8}}, {"value": [0.9389125135270914, -0.5135540452630449], "itemStyle": {"opacity": 0.8}}, {"value": [1.7893976221378944, -0.26387131943612496], "itemStyle": {"opacity": 0.8}}, {"value": [0.3603982008922027, -0.12579009793677248], "itemStyle": {"opacity": 0.8}}, {"value": [1.9371282674993187, 0.3675642914202532], "itemStyle": {"opacity": 0.8}}, {"value": [0.0083564707053621, 0.5320457749816218], "itemStyle": {"opacity": 0.8}}, {"value": [0.06357500148967771, -0.07375254500638109], "itemStyle": {"opacity": 0.8}}, {"value": [0.4229368998509608, -0.03656097531307502], "itemStyle": {"opacity": 0.8}}, {"value": [1.874315243153208, -0.05318329701654417], "itemStyle": {"opacity": 0.8}}, {"value": [0.07222261812178199, 0.13627157664599823], "itemStyle": {"opacity": 0.8}}, {"value": [1.6470491039434203, -0.16757444093230295], "itemStyle": {"opacity": 0.8}}, {"value": [1.9686415215524833, 0.10291719279716784], "itemStyle": {"opacity": 0.8}}, {"value": [1.7843131131506498, -0.1520068909668203], "itemStyle": {"opacity": 0.8}}, {"value": [2.0873045148599823, 0.28530735074108815], "itemStyle": {"opacity": 0.8}}, {"value": [1.3148496627000024, -0.44725774744016616], "itemStyle": {"opacity": 0.8}}, {"value": [1.9508672322774856, 0.3900256213166849], "itemStyle": {"opacity": 0.8}}, {"value": [0.2825817386035496, -0.16532079284824672], "itemStyle": {"opacity": 0.8}}, {"value": [0.938344700184442, -0.6327445340710072], "itemStyle": {"opacity": 0.8}}, {"value": [0.15227499084567703, 0.02198057941962034], "itemStyle": {"opacity": 0.8}}, {"value": [0.7461365894557511, -0.5110142065757868], "itemStyle": {"opacity": 0.8}}, {"value": [1.9701048704314503, 0.06999163949717546], "itemStyle": {"opacity": 0.8}}, {"value": [0.2049831993182284, -0.37334478387442843], "itemStyle": {"opacity": 0.8}}, {"value": [1.325082692179819, -0.4694932597705525], "itemStyle": {"opacity": 0.8}}, {"value": [0.5568693550491782, -0.28647303390245527], "itemStyle": {"opacity": 0.8}}, {"value": [0.07750159554668323, 0.2177456466088653], "itemStyle": {"opacity": 0.8}}, {"value": [0.18786203305535706, -0.20224818473919925], "itemStyle": {"opacity": 0.8}}, {"value": [1.0060978915552157, -0.6716737343647], "itemStyle": {"opacity": 0.8}}, {"value": [1.0993371067091071, -0.5255392480328201], "itemStyle": {"opacity": 0.8}}, {"value": [1.0604130877330895, -0.664348506659051], "itemStyle": {"opacity": 0.8}}, {"value": [0.08128104436835105, 0.5655440149193591], "itemStyle": {"opacity": 0.8}}, {"value": [0.2621963091845073, -0.2605001465555224], "itemStyle": {"opacity": 0.8}}, {"value": [1.4462645794969085, -0.44476972105908064], "itemStyle": {"opacity": 0.8}}, {"value": [0.2791274315012009, -0.26884664450584866], "itemStyle": {"opacity": 0.8}}, {"value": [1.9261906290309088, -0.034101486858117314], "itemStyle": {"opacity": 0.8}}, {"value": [0.2185468890445362, 0.20383370529796563], "itemStyle": {"opacity": 0.8}}, {"value": [1.6237768965846349, -0.33120103482858776], "itemStyle": {"opacity": 0.8}}, {"value": [0.031333571273604, 0.24276731510751107], "itemStyle": {"opacity": 0.8}}, {"value": [0.008629185751882248, 0.24999982561095813], "itemStyle": {"opacity": 0.8}}, {"value": [0.5993675602813255, -0.5724314430588369], "itemStyle": {"opacity": 0.8}}, {"value": [0.1018886995222481, 0.49498808243247494], "itemStyle": {"opacity": 0.8}}, {"value": [1.525369983953064, 0.0019297974426112918], "itemStyle": {"opacity": 0.8}}, {"value": [1.2136000567339893, -0.3417331989379858], "itemStyle": {"opacity": 0.8}}, {"value": [0.23308716959053433, 0.1275069459089364], "itemStyle": {"opacity": 0.8}}, {"value": [0.15132759806894286, -0.23883742575743933], "itemStyle": {"opacity": 0.8}}, {"value": [0.7976359593737035, -0.3839793843645204], "itemStyle": {"opacity": 0.8}}, {"value": [1.961108543928387, 0.040814972387245074], "itemStyle": {"opacity": 0.8}}, {"value": [0.8487619173221225, -0.4363056984528748], "itemStyle": {"opacity": 0.8}}, {"value": [1.8916875532375046, 0.09509014818593642], "itemStyle": {"opacity": 0.8}}, {"value": [1.3528302565382921, -0.4265362405070112], "itemStyle": {"opacity": 0.8}}, {"value": [0.14554876861527338, 0.2169283752033758], "itemStyle": {"opacity": 0.8}}, {"value": [0.74380252328883, -0.4984572915678237], "itemStyle": {"opacity": 0.8}}, {"value": [1.6283256315766768, -0.25284515660924667], "itemStyle": {"opacity": 0.8}}, {"value": [0.20872539439732596, 0.08119429053081831], "itemStyle": {"opacity": 0.8}}, {"value": [0.01575435537698975, 0.23973280995637058], "itemStyle": {"opacity": 0.8}}, {"value": [0.08103530943841337, 0.5570725509248531], "itemStyle": {"opacity": 0.8}}, {"value": [0.9398855834587191, -0.6683544103342967], "itemStyle": {"opacity": 0.8}}, {"value": [1.8681586907315795, -0.02515342308285237], "itemStyle": {"opacity": 0.8}}, {"value": [0.2982728817544293, -0.12638098881700316], "itemStyle": {"opacity": 0.8}}, {"value": [2.1277507888341294, 0.42675405509515674], "itemStyle": {"opacity": 0.8}}, {"value": [1.846066968959805, 0.10121826279463625], "itemStyle": {"opacity": 0.8}}, {"value": [0.905843066983084, -0.5700794902937782], "itemStyle": {"opacity": 0.8}}, {"value": [0.4764277360194793, -0.38939614448640203], "itemStyle": {"opacity": 0.8}}, {"value": [0.05079807673102646, 0.46414246315263463], "itemStyle": {"opacity": 0.8}}, {"value": [0.09090431203597911, 0.23872062239361602], "itemStyle": {"opacity": 0.8}}, {"value": [1.1645508833612985, -0.40249503600795367], "itemStyle": {"opacity": 0.8}}, {"value": [0.45777725614298304, -0.10078345978288639], "itemStyle": {"opacity": 0.8}}, {"value": [0.0225989916723915, 0.40528001022145993], "itemStyle": {"opacity": 0.8}}, {"value": [0.40095040462607473, -0.27463813164370005], "itemStyle": {"opacity": 0.8}}, {"value": [1.5057375454140596, -0.37329350355500024], "itemStyle": {"opacity": 0.8}}, {"value": [1.5589905162770326, -0.23748233613720784], "itemStyle": {"opacity": 0.8}}, {"value": [0.4463256730065187, -0.328051945416493], "itemStyle": {"opacity": 0.8}}, {"value": [0.3209014155840095, -0.12664039057205045], "itemStyle": {"opacity": 0.8}}, {"value": [1.3193048015154476, -0.40253376846929073], "itemStyle": {"opacity": 0.8}}, {"value": [0.6689344099794808, -0.3160694603337302], "itemStyle": {"opacity": 0.8}}, {"value": [1.6369396239440042, -0.4744664601030904], "itemStyle": {"opacity": 0.8}}, {"value": [1.8250086156767336, 0.5437106356516351], "itemStyle": {"opacity": 0.8}}, {"value": [1.0911356663298046, -0.6172332210395521], "itemStyle": {"opacity": 0.8}}, {"value": [1.9771635326594774, 0.3666784091668318], "itemStyle": {"opacity": 0.8}}, {"value": [1.2487446961310449, -0.36527871113721005], "itemStyle": {"opacity": 0.8}}, {"value": [0.2680686577935133, -0.07010628425274437], "itemStyle": {"opacity": 0.8}}, {"value": [2.0397784183254832, 0.5374177752148195], "itemStyle": {"opacity": 0.8}}, {"value": [1.5811433931248629, -0.1694959403716835], "itemStyle": {"opacity": 0.8}}, {"value": [0.13264402366925823, -0.158979629866297], "itemStyle": {"opacity": 0.8}}, {"value": [0.17583821874143654, -0.1711557573059312], "itemStyle": {"opacity": 0.8}}, {"value": [1.2559789044345149, -0.5769106371591088], "itemStyle": {"opacity": 0.8}}, {"value": [0.6671056801212313, -0.4360539225120356], "itemStyle": {"opacity": 0.8}}, {"value": [0.803862955043394, -0.3328595135185971], "itemStyle": {"opacity": 0.8}}, {"value": [1.755527350459414, -0.19911487236295916], "itemStyle": {"opacity": 0.8}}, {"value": [0.4722598345644735, -0.19863427705176354], "itemStyle": {"opacity": 0.8}}, {"value": [1.1014506588758581, -0.486249852261357], "itemStyle": {"opacity": 0.8}}, {"value": [1.668619917195012, -0.20106864327115975], "itemStyle": {"opacity": 0.8}}, {"value": [1.9207005824962247, 0.05914098492307132], "itemStyle": {"opacity": 0.8}}, {"value": [1.6106948141690762, -0.23393265974914823], "itemStyle": {"opacity": 0.8}}, {"value": [0.06152089034007621, 0.26358525411585665], "itemStyle": {"opacity": 0.8}}, {"value": [2.051806694384509, 0.6307986637140104], "itemStyle": {"opacity": 0.8}}, {"value": [0.7241611107656446, -0.28599311361127777], "itemStyle": {"opacity": 0.8}}, {"value": [1.929872146707251, -0.2633258370146662], "itemStyle": {"opacity": 0.8}}], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "orange", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 15, "symbolOffset": [0, 0], "large": true, "largeThreshold": 1000, "progressive": 400, "progressiveThreshold": 3000, "data_dict": {}, "is_text": false, "ignore_axis": false}, {"type": "line", "name": "1", "colorBy": "series", "z": 5, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [[-0.17983124228592573, 0.5049469825640507], [-0.15610537758931262, 0.4666297037219297], [-0.1323795128926995, 0.42897609364827716], [-0.10865364819608637, 0.3919901247931449], [-0.08492778349947326, 0.35567576960658437], [-0.06120191880286015, 0.32003700053864725], [-0.03747605410624702, 0.28507779003938505], [-0.013750189409633906, 0.25080211055884954], [0.009975675286979208, 0.2172139345470922], [0.03370153998359232, 0.18431723445416476], [0.057427404680205435, 0.15211598273011873], [0.08115326937681855, 0.12061415182500579], [0.10487913407343169, 0.08981571418887746], [0.12860499877004478, 0.05972464227178553], [0.15233086346665792, 0.03034490852378141], [0.176056728163271, 0.0016804853949168863], [0.19978259285988414, -0.02626465466475661], [0.2235084575564973, -0.05348653920518728], [0.24723432225311037, -0.07998119577632354], [0.2709601869497235, -0.10574465192811397], [0.2946860516463366, -0.13077293521050673], [0.31841191634294974, -0.15506207317345025], [0.3421377810395628, -0.17860809336689307], [0.3658636457361759, -0.20140702334078334], [0.3895895104327891, -0.22345489064506965], [0.4133153751294022, -0.24474772282970028], [0.4370412398260153, -0.2652815474446236], [0.4607671045226285, -0.28505239203978816], [0.48449296921924156, -0.3040562841651422], [0.5082188339158547, -0.32228925137063413], [0.5319446986124677, -0.3397473212062122], [0.5556705633090809, -0.35642652122182517], [0.579396428005694, -0.372322878967421], [0.6031222927023071, -0.38743242199294836], [0.6268481573989203, -0.40175117784835557], [0.6505740220955334, -0.41527517408359094], [0.6742998867921465, -0.4280004382486029], [0.6980257514887596, -0.4399229978933399], [0.7217516161853728, -0.4510388805677502], [0.7454774808819858, -0.4613441138217823], [0.7692033455785989, -0.4708347252053846], [0.7929292102752121, -0.4795067422685054], [0.8166550749718252, -0.4873561925610931], [0.8403809396684384, -0.4943791036330961], [0.8641068043650514, -0.5005715030344629], [0.8878326690616646, -0.5059294183151416], [0.9115585337582776, -0.5104488770250808], [0.9352843984548908, -0.514125906714229], [0.959010263151504, -0.5169565349325344], [0.9827361278481169, -0.5189367892299453], [1.0064619925447302, -0.5200626971564103], [1.0301878572413434, -0.5203302862618777], [1.0539137219379562, -0.5197355840962958], [1.0776395866345694, -0.5182746182096133], [1.1013654513311826, -0.5159434161517782], [1.1250913160277958, -0.5127380054727391], [1.148817180724409, -0.5086544137224441], [1.1725430454210222, -0.503688668450842], [1.196268910117635, -0.4978367972078812], [1.2199947748142481, -0.49109482754350964], [1.2437206395108613, -0.4834587870076761], [1.2674465042074745, -0.47492470315032875], [1.2911723689040877, -0.46548860352141586], [1.3148982336007005, -0.4551465156708864], [1.3386240982973137, -0.4438944671486883], [1.3623499629939269, -0.43172848550476983], [1.38607582769054, -0.4186445982890794], [1.4098016923871532, -0.404638833051566], [1.4335275570837664, -0.38970721734217717], [1.4572534217803792, -0.3738457787108622], [1.4809792864769924, -0.35705054470756836], [1.5047051511736056, -0.3393175428822449], [1.5284310158702188, -0.3206428007848402], [1.552156880566832, -0.301022345965302], [1.5758827452634447, -0.28045220597357956], [1.599608609960058, -0.2589284083596206], [1.6233344746566711, -0.2364469806733733], [1.6470603393532843, -0.21300395046478707], [1.6707862040498975, -0.1885953452838092], [1.6945120687465107, -0.16321719268038884], [1.7182379334431235, -0.13686552020447437], [1.7419637981397367, -0.1095363554060135], [1.7656896628363499, -0.08122572583495499], [1.789415527532963, -0.051929659041247106], [1.8131413922295763, -0.021644182574838383], [1.8368672569261895, 0.009634676014322552], [1.8605931216228027, 0.0419108891762876], [1.8843189863194154, 0.07518842936110803], [1.9080448510160286, 0.10947126901883579], [1.9317707157126418, 0.14476338059952296], [1.955496580409255, 0.18106873655322075], [1.9792224451058682, 0.2183913093299803], [2.002948309802481, 0.25673507137985324], [2.026674174499094, 0.29610399515289165], [2.0504000391957073, 0.33650205309914755], [2.0741259038923205, 0.3779332176686717], [2.0978517685889337, 0.42040146131151657], [2.121577633285547, 0.4639107564777334], [2.1453034979821597, 0.5084650756173722], [2.169029362678773, 0.5540683911804872]], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "linear", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "orange", "symbol": "emptyCircle", "coordinateSystem": "cartesian2d", "symbolSize": 0, "symbolOffset": [0, 0], "showSymbol": true, "showAllSymbol": "auto", "tooltip_trigger": "axis"}, {"type": "scatter", "name": "1", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [{"value": [1.0061811137348255, -0.12670988380810277], "label": {"show": true, "color": "#ffffff", "formatter": "1", "fontSize": 14, "textBorderColor": "orange", "fontWeight": "bold", "textBorderWidth": 2}}], "silent": true, "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 0, "symbolOffset": [0, 0], "largeThreshold": 2000, "progressive": 400, "progressiveThreshold": 3000, "is_text": true, "ignore_axis": false}, {"type": "scatter", "name": "0", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "label": "serie", "emphasis": {"focus": "none"}, "seriesLayoutBy": "column", "data": [{"value": [0.8281977981485314, 0.5415218892178506], "itemStyle": {"opacity": 0.8}}, {"value": [0.09171539700050081, 0.9461179874453445], "itemStyle": {"opacity": 0.8}}, {"value": [0.40156045922972966, 0.9268166356399812], "itemStyle": {"opacity": 0.8}}, {"value": [0.07314713993172753, 0.9168823205037456], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4178031928161623, 0.9969302258350213], "itemStyle": {"opacity": 0.8}}, {"value": [0.9579878024190793, 0.12114286887719278], "itemStyle": {"opacity": 0.8}}, {"value": [0.5552516585363515, 0.965685772429867], "itemStyle": {"opacity": 0.8}}, {"value": [0.3022727378193304, 0.9301292941685252], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5247965363754132, 0.7897125490862673], "itemStyle": {"opacity": 0.8}}, {"value": [0.8580279728331913, 0.6755129042792798], "itemStyle": {"opacity": 0.8}}, {"value": [0.404559599307745, 0.95239331683874], "itemStyle": {"opacity": 0.8}}, {"value": [1.0893364137634811, 0.28773650388840166], "itemStyle": {"opacity": 0.8}}, {"value": [1.0446289348001918, 0.11362423171192629], "itemStyle": {"opacity": 0.8}}, {"value": [-0.29381359169325855, 0.8871058855450891], "itemStyle": {"opacity": 0.8}}, {"value": [0.052039835716421845, 0.8683552101965917], "itemStyle": {"opacity": 0.8}}, {"value": [-1.119340367715941, 0.012114675029737565], "itemStyle": {"opacity": 0.8}}, {"value": [0.6746685269538756, 0.7648464577460884], "itemStyle": {"opacity": 0.8}}, {"value": [-0.25247367792137004, 1.0157254753141933], "itemStyle": {"opacity": 0.8}}, {"value": [-0.043682834885529404, 0.789928213280756], "itemStyle": {"opacity": 0.8}}, {"value": [-0.834513603902822, 0.5482327588836816], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5049155905696417, 0.8158505869016326], "itemStyle": {"opacity": 0.8}}, {"value": [0.7605778678586781, 0.8490047684040152], "itemStyle": {"opacity": 0.8}}, {"value": [0.29985442632480913, 0.7977673987470991], "itemStyle": {"opacity": 0.8}}, {"value": [0.8905252470097118, 0.7099043476407715], "itemStyle": {"opacity": 0.8}}, {"value": [0.11826978657090345, 0.8778058534457707], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7130367234824387, 0.923394078614817], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0452223143606545, 0.2789271744465052], "itemStyle": {"opacity": 0.8}}, {"value": [0.9604818564529551, 0.2598976348965632], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0610029020734704, 0.4259623231575948], "itemStyle": {"opacity": 0.8}}, {"value": [0.9290715732995999, 0.7044894326221837], "itemStyle": {"opacity": 0.8}}, {"value": [0.3985161871037338, 0.7578228472730179], "itemStyle": {"opacity": 0.8}}, {"value": [0.9224449677324292, 0.6012696775757825], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8919029408079996, 0.4960748810175608], "itemStyle": {"opacity": 0.8}}, {"value": [1.0225793504988576, 0.36066014634971644], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9710888438761187, 0.6405981687615638], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4791414581275831, 1.0093246672652925], "itemStyle": {"opacity": 0.8}}, {"value": [0.4919544089308461, 0.9901126903122439], "itemStyle": {"opacity": 0.8}}, {"value": [0.0410776773647474, 1.0533222871839638], "itemStyle": {"opacity": 0.8}}, {"value": [0.9666350914963895, 0.5834251609429104], "itemStyle": {"opacity": 0.8}}, {"value": [0.21658112980549674, 0.9736687007203508], "itemStyle": {"opacity": 0.8}}, {"value": [-0.64388146241787, 0.8241928619908845], "itemStyle": {"opacity": 0.8}}, {"value": [0.9496985380360062, 0.023234430827277622], "itemStyle": {"opacity": 0.8}}, {"value": [0.668370667035115, 0.8047279428402697], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0104913674247578, 0.26766467034661684], "itemStyle": {"opacity": 0.8}}, {"value": [0.9493893492279155, 0.042395034693238194], "itemStyle": {"opacity": 0.8}}, {"value": [0.8953640992371084, 0.12029412831425107], "itemStyle": {"opacity": 0.8}}, {"value": [0.42168660618408793, 0.8574857282534363], "itemStyle": {"opacity": 0.8}}, {"value": [0.0034514995502456514, 0.9232315981434537], "itemStyle": {"opacity": 0.8}}, {"value": [0.2647671231050478, 0.9512736717500212], "itemStyle": {"opacity": 0.8}}, {"value": [-0.2559695512442949, 0.9769812759008681], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0197784695319896, 0.4310704881654892], "itemStyle": {"opacity": 0.8}}, {"value": [0.3254160858230126, 1.0154113850377267], "itemStyle": {"opacity": 0.8}}, {"value": [-0.02532499674177502, 0.947301799237025], "itemStyle": {"opacity": 0.8}}, {"value": [1.0832306132818155, 0.30243413363940314], "itemStyle": {"opacity": 0.8}}, {"value": [0.5278969205172018, 0.9436475009919663], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7422978282856605, 0.688066258718179], "itemStyle": {"opacity": 0.8}}, {"value": [1.0762354226047843, 0.31552877308582405], "itemStyle": {"opacity": 0.8}}, {"value": [0.9804704487371622, 0.25009378313745445], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7609520671028389, 1.0259518073320897], "itemStyle": {"opacity": 0.8}}, {"value": [-0.49651016735263764, 1.020847176615835], "itemStyle": {"opacity": 0.8}}, {"value": [0.8181446341926059, 0.7016062224228446], "itemStyle": {"opacity": 0.8}}, {"value": [0.47919081281108183, 0.8667912886886442], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9246852132955579, 0.6659339268772327], "itemStyle": {"opacity": 0.8}}, {"value": [-0.19973768447083562, 1.0933060138877637], "itemStyle": {"opacity": 0.8}}, {"value": [0.940616481696544, 0.25749074749584544], "itemStyle": {"opacity": 0.8}}, {"value": [1.0076808280989389, 0.34117127567420824], "itemStyle": {"opacity": 0.8}}, {"value": [-0.966543565363345, 0.28801758688468887], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9976923228984038, 0.48813212785537713], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5812357980233047, 0.6748887284276055], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9002692152319717, 0.2619201140227827], "itemStyle": {"opacity": 0.8}}, {"value": [-0.25582248118023304, 1.0180954146828698], "itemStyle": {"opacity": 0.8}}, {"value": [-1.1138631338303022, -0.08705661343128906], "itemStyle": {"opacity": 0.8}}, {"value": [0.9771117727121236, 0.40745819890591284], "itemStyle": {"opacity": 0.8}}, {"value": [-0.32661461873026315, 0.7493900295321627], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6203513588550882, 0.8387098635497955], "itemStyle": {"opacity": 0.8}}, {"value": [-1.1511863158724789, -0.06624355977916652], "itemStyle": {"opacity": 0.8}}, {"value": [0.5955667439508922, 0.6386728106302391], "itemStyle": {"opacity": 0.8}}, {"value": [-0.1308958348924223, 0.9641399984129664], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8799966733224986, 0.283554573861271], "itemStyle": {"opacity": 0.8}}, {"value": [1.1750337382650022, 0.08712904314172767], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7585085272396329, 0.748141806207555], "itemStyle": {"opacity": 0.8}}, {"value": [1.051622752860439, 0.07573563016822103], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8092021378321275, 0.13687902584671832], "itemStyle": {"opacity": 0.8}}, {"value": [-0.07657329479524141, 1.0123246744592231], "itemStyle": {"opacity": 0.8}}, {"value": [0.3643485289920689, 0.9587332861968995], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9039386882590633, 0.4860442990090752], "itemStyle": {"opacity": 0.8}}, {"value": [0.23340051836624431, 0.9718404298026123], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7848715472141286, 0.587953083507366], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6052644989118215, 0.7955689362691734], "itemStyle": {"opacity": 0.8}}, {"value": [0.18346525575039668, 0.863886260883799], "itemStyle": {"opacity": 0.8}}, {"value": [0.4357050503972449, 0.947112468815042], "itemStyle": {"opacity": 0.8}}, {"value": [-0.19161096380566223, 1.0144581477653083], "itemStyle": {"opacity": 0.8}}, {"value": [0.23246382980226774, 0.958636539202684], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6089928003474744, 0.8538968611679508], "itemStyle": {"opacity": 0.8}}, {"value": [-0.14663398900921182, 1.098915276229116], "itemStyle": {"opacity": 0.8}}, {"value": [0.2481370154715898, 1.0221280706067108], "itemStyle": {"opacity": 0.8}}, {"value": [1.056272964342253, 0.26708618818460234], "itemStyle": {"opacity": 0.8}}, {"value": [0.7460124466135112, 0.6027220092407295], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6474151293600467, 0.8686578241100799], "itemStyle": {"opacity": 0.8}}, {"value": [-0.2998246700886737, 1.0958782230964785], "itemStyle": {"opacity": 0.8}}, {"value": [-0.867194684720239, 0.3372444433127365], "itemStyle": {"opacity": 0.8}}, {"value": [0.45564543502722626, 0.8287075193222752], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0050512879881874, 0.19988054900735763], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6805626396188176, 0.08132969177833893], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6490735256969274, 0.8815049333413835], "itemStyle": {"opacity": 0.8}}, {"value": [-0.536868509390947, 0.9423719015542634], "itemStyle": {"opacity": 0.8}}, {"value": [0.09373483171858374, 0.9093489420473164], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9263843640116586, 0.21098414319755895], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5405845524825568, 0.9181117639438922], "itemStyle": {"opacity": 0.8}}, {"value": [0.9305692278235662, 0.5398249074259076], "itemStyle": {"opacity": 0.8}}, {"value": [0.9784119369643645, 0.25352612158237964], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0200230889843025, 0.22748717279219446], "itemStyle": {"opacity": 0.8}}, {"value": [-0.3154849918885533, 1.0083104690182787], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0223978310048576, 0.4011067930232193], "itemStyle": {"opacity": 0.8}}, {"value": [-0.04510451879071933, 0.7991491020390376], "itemStyle": {"opacity": 0.8}}, {"value": [-0.994564259030683, 0.6713911383163779], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4408604389520875, 0.7384652081800833], "itemStyle": {"opacity": 0.8}}, {"value": [-0.5151095273058485, 0.8471182066753098], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0563766442123035, -0.3568205299359881], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0351547981205815, 0.05539817597695543], "itemStyle": {"opacity": 0.8}}, {"value": [0.9166357854923943, 0.12373202160019528], "itemStyle": {"opacity": 0.8}}, {"value": [-0.12004194518298957, 0.7527784391323216], "itemStyle": {"opacity": 0.8}}, {"value": [0.9981936878290952, 0.21096138080488983], "itemStyle": {"opacity": 0.8}}, {"value": [-0.30368999098948596, 1.0459161417121352], "itemStyle": {"opacity": 0.8}}, {"value": [-0.39790391370032724, 0.982030294351673], "itemStyle": {"opacity": 0.8}}, {"value": [0.49229061778845873, 0.8693150287473763], "itemStyle": {"opacity": 0.8}}, {"value": [0.8494651045710285, 0.5435623850119276], "itemStyle": {"opacity": 0.8}}, {"value": [0.19481701963916617, 1.0914306332660042], "itemStyle": {"opacity": 0.8}}, {"value": [-0.10148376708261908, 0.8954007189495029], "itemStyle": {"opacity": 0.8}}, {"value": [-0.33440741651656025, 0.872152223717397], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9103538545522244, 0.11457950315220794], "itemStyle": {"opacity": 0.8}}, {"value": [0.7980254495229531, 0.7023762060734993], "itemStyle": {"opacity": 0.8}}, {"value": [0.652791628022177, 0.8679890511284588], "itemStyle": {"opacity": 0.8}}, {"value": [0.15095217091376792, 0.9735792211196405], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0351508911672802, 0.2352123895851974], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8495786602831639, 0.5257157557542287], "itemStyle": {"opacity": 0.8}}, {"value": [1.0732469394954367, 0.0966570840121739], "itemStyle": {"opacity": 0.8}}, {"value": [0.922355666831577, 0.3915777156856398], "itemStyle": {"opacity": 0.8}}, {"value": [1.179959994061442, 0.40620951502008384], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9293446879170691, 0.5563002807945711], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6635954598691399, 0.9287284123514572], "itemStyle": {"opacity": 0.8}}, {"value": [0.12508148690837878, 1.0107712649386078], "itemStyle": {"opacity": 0.8}}, {"value": [0.7450034565443301, 0.7090896365466174], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9080886149685693, 0.220602393102044], "itemStyle": {"opacity": 0.8}}, {"value": [0.5858015888336551, 0.5679185764822606], "itemStyle": {"opacity": 0.8}}, {"value": [1.0643805747202955, 0.16411977735553548], "itemStyle": {"opacity": 0.8}}, {"value": [0.07587637693033553, 1.1367673776383977], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0991324877898918, 0.3998281611302054], "itemStyle": {"opacity": 0.8}}, {"value": [0.05943075792034612, 0.9409926919168601], "itemStyle": {"opacity": 0.8}}, {"value": [0.7067448851525836, 0.7849651477267724], "itemStyle": {"opacity": 0.8}}, {"value": [0.8727925257301244, 0.40450279943881134], "itemStyle": {"opacity": 0.8}}, {"value": [1.0098726006114973, 0.6137062126291011], "itemStyle": {"opacity": 0.8}}, {"value": [1.054941483052359, 0.22300462646561692], "itemStyle": {"opacity": 0.8}}, {"value": [-0.808584190274535, 0.549473350974221], "itemStyle": {"opacity": 0.8}}, {"value": [-0.573486935719889, 0.7653864752163864], "itemStyle": {"opacity": 0.8}}, {"value": [0.3974880824749839, 0.8866068075128529], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6121576257879583, 0.8269448471682256], "itemStyle": {"opacity": 0.8}}, {"value": [-0.40620203173039965, 0.6919572681002077], "itemStyle": {"opacity": 0.8}}, {"value": [0.8059004682255754, 0.09598584740679728], "itemStyle": {"opacity": 0.8}}, {"value": [0.577010942050867, 0.921427860837215], "itemStyle": {"opacity": 0.8}}, {"value": [0.95116813790414, 0.13090585233804364], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8431589135514671, 0.708073706544875], "itemStyle": {"opacity": 0.8}}, {"value": [0.8345576822705425, 0.5953673442120604], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9159944605722037, 0.662046710981531], "itemStyle": {"opacity": 0.8}}, {"value": [0.7547580557250606, 0.6381008654279617], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9855961407261281, 0.24465186146853457], "itemStyle": {"opacity": 0.8}}, {"value": [-0.0457775363766378, 1.060030149286084], "itemStyle": {"opacity": 0.8}}, {"value": [0.7800780371174919, 0.7488019569243001], "itemStyle": {"opacity": 0.8}}, {"value": [0.9360900798447133, -0.03162831609870871], "itemStyle": {"opacity": 0.8}}, {"value": [0.6689785958971225, 0.6036520491736346], "itemStyle": {"opacity": 0.8}}, {"value": [0.33478569722706114, 0.8900372542109308], "itemStyle": {"opacity": 0.8}}, {"value": [0.8552106280976605, 0.5669552804252124], "itemStyle": {"opacity": 0.8}}, {"value": [0.2905170667683744, 1.025321115737968], "itemStyle": {"opacity": 0.8}}, {"value": [0.6567229379131222, 0.6722832366601202], "itemStyle": {"opacity": 0.8}}, {"value": [0.8604722047896834, 0.163902767064797], "itemStyle": {"opacity": 0.8}}, {"value": [0.23241761555025903, 0.9210944649201596], "itemStyle": {"opacity": 0.8}}, {"value": [-0.9368801423457123, 0.49356261972143056], "itemStyle": {"opacity": 0.8}}, {"value": [-0.4044565529876215, 0.8096130028026692], "itemStyle": {"opacity": 0.8}}, {"value": [0.6096776291794008, 0.7174606455400276], "itemStyle": {"opacity": 0.8}}, {"value": [0.519633282205532, 0.6532250811403223], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8067740153047347, 0.29157261562178366], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0655947175512142, 0.2212330253379633], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0984313739240208, 0.44471746141975255], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0115042991719052, 0.471523890580423], "itemStyle": {"opacity": 0.8}}, {"value": [0.593417605519658, 0.6742885813462738], "itemStyle": {"opacity": 0.8}}, {"value": [0.6893488089833144, 0.6896349026977713], "itemStyle": {"opacity": 0.8}}, {"value": [0.7968700476436335, 0.3571278338151201], "itemStyle": {"opacity": 0.8}}, {"value": [-0.72730191303691, 0.4057417900374254], "itemStyle": {"opacity": 0.8}}, {"value": [-1.0039351561663472, 0.00817004076966052], "itemStyle": {"opacity": 0.8}}, {"value": [-0.8515613634567728, 0.7009224597105803], "itemStyle": {"opacity": 0.8}}, {"value": [-0.344768061166429, 0.8202303548674952], "itemStyle": {"opacity": 0.8}}, {"value": [-0.6240556307959167, 0.6964627164785605], "itemStyle": {"opacity": 0.8}}, {"value": [0.09982365388048871, 1.055221255419995], "itemStyle": {"opacity": 0.8}}, {"value": [0.21711474696683666, 1.068621936007729], "itemStyle": {"opacity": 0.8}}, {"value": [-0.3183138362478756, 0.995160530592945], "itemStyle": {"opacity": 0.8}}, {"value": [1.1621430615794484, 0.28999256891276015], "itemStyle": {"opacity": 0.8}}, {"value": [-0.7693711814576643, 0.2900083101499388], "itemStyle": {"opacity": 0.8}}, {"value": [0.42481712855727227, 1.0503355163432597], "itemStyle": {"opacity": 0.8}}, {"value": [0.06612998562530321, 0.9487101716012722], "itemStyle": {"opacity": 0.8}}, {"value": [-0.0747996734498523, 0.7965550564269417], "itemStyle": {"opacity": 0.8}}], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "green", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 15, "symbolOffset": [0, 0], "large": true, "largeThreshold": 1000, "progressive": 400, "progressiveThreshold": 3000, "data_dict": {}, "is_text": false, "ignore_axis": false}, {"type": "line", "name": "0", "colorBy": "series", "z": 5, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [[-1.1511863158724789, 0.0637333413838218], [-1.127639383448904, 0.10385341149637894], [-1.104092451025329, 0.1430443743961144], [-1.080545518601754, 0.1813096649810444], [-1.056998586178179, 0.21865271814918685], [-1.0334516537546041, 0.255076968798558], [-1.0099047213310293, 0.2905858518271752], [-0.9863577889074542, 0.32518280213305606], [-0.9628108564838792, 0.3588712546142172], [-0.9392639240603042, 0.3916546441686757], [-0.9157169916367294, 0.4235364056944486], [-0.8921700592131543, 0.45451997408955336], [-0.8686231267895794, 0.4846087842520067], [-0.8450761943660045, 0.5138062710798257], [-0.8215292619424295, 0.5421158694710277], [-0.7979823295188546, 0.5695410143236296], [-0.7744353970952795, 0.5960851405356488], [-0.7508884646717047, 0.6217516830051018], [-0.7273415322481297, 0.6465440766300061], [-0.7037945998245547, 0.6704657563083787], [-0.6802476674009797, 0.6935201569382368], [-0.6567007349774048, 0.7157107134175972], [-0.6331538025538298, 0.7370408606444774], [-0.6096068701302549, 0.757514033516894], [-0.58605993770668, 0.7771336669328643], [-0.562513005283105, 0.7959031957904056], [-0.53896607285953, 0.8138260549875347], [-0.515419140435955, 0.8309056794222689], [-0.4918722080123801, 0.8471455039926251], [-0.4683252755888052, 0.8625489635966205], [-0.44477834316523024, 0.8771194931322721], [-0.42123141074165527, 0.890860527497597], [-0.3976844783180803, 0.9037755015906125], [-0.3741375458945053, 0.9158678503093354], [-0.35059061347093035, 0.9271410085517829], [-0.3270436810473554, 0.9375984112159721], [-0.3034967486237805, 0.94724349319992], [-0.27994981620020554, 0.9560796894016438], [-0.25640288377663056, 0.9641104347191606], [-0.2328559513530556, 0.9713391640504873], [-0.20930901892948062, 0.9777693122936412], [-0.18576208650590564, 0.9834043143466393], [-0.16221515408233078, 0.9882476051074987], [-0.1386682216587558, 0.9923026194742364], [-0.11512128923518072, 0.9955727923448696], [-0.09157435681160586, 0.9980615586174153], [-0.068027424388031, 0.9997723531898907], [-0.044480491964455915, 1.0007086109603127], [-0.020933559540881053, 1.0008737668266987], [0.0026133728826940317, 1.0002712556870654], [0.026160305306268894, 0.9989045124394302], [0.04970723772984398, 0.99677697198181], [0.07325417015341884, 0.993892069212222], [0.0968011025769937, 0.9902532390286831], [0.12034803500056879, 0.9858639163292107], [0.14389496742414365, 0.9807275360118216], [0.16744189984771873, 0.974847532974533], [0.1909888322712936, 0.968227342115362], [0.21453576469486846, 0.9608703983323257], [0.23808269711844354, 0.9527801365234411], [0.2616296295420184, 0.9439599915867254], [0.2851765619655935, 0.9344133984201956], [0.30872349438916835, 0.9241437919218688], [0.33227042681274344, 0.913154606989762], [0.3558173592363183, 0.9014492785218925], [0.37936429165989316, 0.8890312414162773], [0.40291122408346824, 0.8759039305709333], [0.4264581565070431, 0.8620707808838779], [0.4500050889306182, 0.8475352272531279], [0.47355202135419305, 0.8323007045767007], [0.49709895377776814, 0.8163706477526129], [0.520645886201343, 0.7997484916788822], [0.5441928186249179, 0.7824376712535254], [0.567739751048493, 0.7644416213745593], [0.5912866834720678, 0.7457637769400014], [0.6148336158956429, 0.7264075728478685], [0.6383805483192178, 0.7063764439961779], [0.6619274807427926, 0.6856738252829467], [0.6854744131663677, 0.6643031516061917], [0.7090213455899426, 0.6422678578639303], [0.7325682780135176, 0.6195713789541794], [0.7561152104370925, 0.5962171497749563], [0.7796621428606676, 0.5722086052242776], [0.8032090752842425, 0.5475491802001611], [0.8267560077078173, 0.5222423096006235], [0.8503029401313924, 0.49629142832368156], [0.8738498725549673, 0.4696999712673531], [0.8973968049785421, 0.4424713733296546], [0.9209437374021174, 0.4146090694086031], [0.9444906698256923, 0.3861164944022162], [0.9680376022492672, 0.35699708320851087], [0.991584534672842, 0.32725427072550395], [1.0151314670964169, 0.2968914918512128], [1.0386783995199922, 0.2659121814836537], [1.062225331943567, 0.23431977452084496], [1.085772264367142, 0.2021177058608029], [1.1093191967907168, 0.169309410401545], [1.1328661292142916, 0.13589832304108806], [1.156413061637867, 0.10188787867744842], [1.179959994061442, 0.06728151220864476]], "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "linear", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "color": "green", "symbol": "emptyCircle", "coordinateSystem": "cartesian2d", "symbolSize": 0, "symbolOffset": [0, 0], "showSymbol": true, "showAllSymbol": "auto", "tooltip_trigger": "axis"}, {"type": "scatter", "name": "0", "colorBy": "series", "z": 2, "legendHoverLink": true, "stackStrategy": "samesign", "cursor": "pointer", "clip": true, "seriesLayoutBy": "column", "data": [{"value": [0.01311461976556954, 0.6343786206375378], "label": {"show": true, "color": "#ffffff", "formatter": "0", "fontSize": 14, "textBorderColor": "green", "fontWeight": "bold", "textBorderWidth": 2}}], "silent": true, "animation": true, "animationThreshold": 2000, "animationDuration": 1000, "animationEasing": "cubicOut", "animationDurationUpdate": 300, "animationEasingUpdate": "cubicOut", "coordinateSystem": "cartesian2d", "symbol": "circle", "symbolSize": 0, "symbolOffset": [0, 0], "largeThreshold": 2000, "progressive": 400, "progressiveThreshold": 3000, "is_text": true, "ignore_axis": false}], "visualMap": null, "toolbox": {"show": true, "orient": "horizontal", "itemSize": 15, "itemGap": 8, "showTitle": true, "feature": {"dataZoom": {}, "saveAsImage": {}}, "z": 2, "left": "auto", "top": "auto", "right": "1%", "bottom": "auto", "width": "auto", "height": "auto", "popup": true, "changed_name_key": {"id_": "id"}}, "tooltip": {"show": true, "custom_tooltip": false, "trigger": "item", "axisPointer": {"show": true, "type": "line"}, "showContent": true, "triggerOn": "mousemove|click", "hideDelay": 100, "enterable": true, "renderMode": "html", "confine": true, "transitionDuration": 0.4, "borderColor": "#333", "padding": 5, "order": "seriesAsc"}, "dataZoom": null, "event": null, "graphic": null, "radar": null, "figsize": {"height": 600, "width": 800}, "color": ["#1f77b4", "#ff7f0e", "#2ca02c", "#e377c2", "#9467bd", "#d62728", "#8c564b", "#bcbd22", "#17becf", "#7f7f7f"], "save_img": false, "auto_size": true, "style": {"overflow": "auto"}, "port": "5005"};function setInnerHTML(elm, html) {
      elm.innerHTML = html;
  
      Array.from(elm.querySelectorAll("script"))
        .forEach( oldScriptEl => {
          const newScriptEl = document.createElement("script");
      
          Array.from(oldScriptEl.attributes).forEach( attr => {
            newScriptEl.setAttribute(attr.name, attr.value) 
          });
      
          const scriptText = document.createTextNode(oldScriptEl.innerHTML);
          newScriptEl.appendChild(scriptText);
      
          oldScriptEl.parentNode.replaceChild(newScriptEl, oldScriptEl);
      });
    };

    function getScreenSize(option) {
      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_result_save', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'height': screen.height, 'width': screen.width},
                                  'event_id': 'screen_size'})
          });
          fetch(testRequest).then(response => {});
      return 
    }
    function support_scientific_notation(option) {
      if (Array.isArray(option['yAxis'])) {
        for (var tar_ind = 0; tar_ind < option['yAxis'].length; tar_ind++) {
          if (option['yAxis'][tar_ind]['type'] === 'value') {
            option['yAxis'][tar_ind]['axisLabel']['formatter'] = function(val) {
              const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                        '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                        '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
              function toSuperscript(val) {
                if (val.toString().length > 5 && !val.toString().includes('.')) {
                  val = Number(val).toExponential().toString();
                  if (val.includes('-')) {
                    val = val.split('-');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁻' + val1
                  }
                  else if (val.includes('+')) {
                    val = val.split('+');
                    var val0 = val[0];
                    var val1 = superscripts[val[1]];
                    return val0 + '⁺' + val1
                  }
                }
                else {
                  return val
                }
              }
              return toSuperscript(val)
            }
          }
        }
      }
      else {
        if (option['yAxis']['type'] === 'value') {
          option['yAxis']['axisLabel']['formatter'] = function(val) {
            const superscripts = ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹','¹⁰',
                    '¹¹', '¹²', '¹³', '¹⁴', '¹⁵', '¹⁶', '¹⁷', '¹⁸', '¹⁹','²⁰',
                    '²¹', '²²', '²³', '²⁴', '²⁵', '²⁶', '²⁷', '²⁸', '²⁹'];
            function toSuperscript(val) {
              if (val.toString().length > 5 && !val.toString().includes('.')) {
                val = Number(val).toExponential().toString();
                if (val.includes('-')) {
                  val = val.split('-');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁻' + val1
                }
                else if (val.includes('+')) {
                  val = val.split('+');
                  var val0 = val[0];
                  var val1 = superscripts[val[1]];
                  return val0 + '⁺' + val1
                }
              }
              else {
                return val
              }
            }
            return toSuperscript(val)
          }
        }
      };
      return option;
    };

    function auto_component_size(option) {
      if (typeof option['figsize']['width'] === 'string' || option['figsize']['width'] instanceof String) {
        if (option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['width'].includes('px')) {
          var width = parseFloat(option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = option['figsize']['width']
      }

      if (typeof option['figsize']['height'] === 'string' || option['figsize']['height'] instanceof String) {
        if (option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (option['figsize']['height'].includes('px')) {
          var height = parseFloat(option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height']
      }

      var relative_ratio = Math.min(width / 700, height / 400)
      if ('xAxis3D' in option) {
        var keys = ['xAxis3D', 'yAxis3D', 'zAxis3D']
      }
      else {
        var keys = ['xAxis', 'yAxis']
      }
      for (single_key of keys) {
        for (var ind = 0; ind < option[single_key].length; ind++) {
          option[single_key][ind]['nameTextStyle']['fontSize'] = Math.max(7, option[single_key][ind]['nameTextStyle']['fontSize'] * relative_ratio);
          option[single_key][ind]['axisLabel']['fontSize'] = Math.max(7, option[single_key][ind]['axisLabel']['fontSize'] * relative_ratio);
        }
      }
      if (option['series']) {
        for (var ind = 0; ind < option['series'].length; ind++) {
          if (['heatmap', 'bar'].includes(option['series'][ind]['type'])) {
            if (option['series'][ind]['label']) {
              option['series'][ind]['label']['fontSize'] = Math.max(7, option['series'][ind]['label']['fontSize'] * relative_ratio);
            }
          }
        }
      }
      if (option['title']) {
        if (Array.isArray(option['title'])) {
          for (var ind = 0; ind < option['title'].length; ind++) {
            option['title'][ind]['textStyle']['fontSize'] = Math.max(9, option['title'][ind]['textStyle']['fontSize'] * relative_ratio);
          }
        }
        else {
          option['title']['textStyle']['fontSize'] = Math.max(9, option['title']['textStyle']['fontSize'] * relative_ratio);
        }
      }
      if (option['legend']) {
        option['legend']['itemHeight'] = option['legend']['itemHeight'] * relative_ratio;
        option['legend']['itemWidth'] = option['legend']['itemWidth'] * relative_ratio;
        option['legend']['textStyle']['fontSize'] = Math.max(7, option['legend']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['visualMap']) {
        option['visualMap']['itemHeight'] = option['visualMap']['itemHeight'] * relative_ratio;
        option['visualMap']['itemWidth'] = option['visualMap']['itemWidth'] * relative_ratio;
        option['visualMap']['textStyle']['fontSize'] = Math.max(7, option['visualMap']['textStyle']['fontSize'] * relative_ratio);
      }
      if (option['toolbox']) {
        option['toolbox']['itemSize'] = Math.max(8, option['toolbox']['itemSize'] * relative_ratio)
        option['toolbox']['itemGap'] = Math.max(4, option['toolbox']['itemGap'] * relative_ratio);
      }
      if (option['graphic']) {
        for (var ind = 0; ind < option['graphic'].length; ind++) {
          for (var ind2 = 0; ind2 < option['graphic'][ind]['children'].length; ind2++) {
            var new_font = Math.max(7, 12 * relative_ratio);
            option['graphic'][ind]['children'][ind2]['style']['font'] = new_font.toString() + 'px Microsoft YaHei';
          }
        }
      }
      return option;
    }

    function save_img(echarts_instance, option) {
      const base64_str = echarts_instance.getDataURL({
          pixelRatio: 2,
          backgroundColor: '#fff',
          width: option['figsize']['width'],
          height: option['figsize']['height']
      });

      let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_image_save', {
        method: 'post',
        headers: {
          'Content-Type': 'application/json;charset=utf-8;',
          'Access-Control-Allow-Origin':'*',
          'Access-Control-Allow-Credentials': 'true',
          'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
        },
        body: JSON.stringify({'figname': option['figname'],
                              'base64_str': base64_str})
      });
      fetch(testRequest).then(response => {});
    };


    function auto_axis_namegap(echarts_instance, auto_axis_list, axis_type) {
      const globalModel = echarts_instance._api.getModel()
      const figsize = globalModel.option.figsize
      const ctx = document.createElement('canvas').getContext('2d')
      if (typeof globalModel.option['figsize']['width'] === 'string' || globalModel.option['figsize']['width'] instanceof String) {
        if (globalModel.option['figsize']['width'].includes('%')) {
          var width = 800 * (parseFloat(globalModel.option['figsize']['width'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['width'].includes('px')) {
          var width = parseFloat(globalModel.option['figsize']['width'].slice(0,-2));
        }
      }
      else {
        var width = globalModel.option['figsize']['width'];
      }

      if (typeof globalModel.option['figsize']['height'] === 'string' || globalModel.option['figsize']['height'] instanceof String) {
        if (globalModel.option['figsize']['height'].includes('%')) {
          var height = 600 * (parseFloat(globalModel.option['figsize']['height'].slice(0,-1)) / 100);
        }
        else if (globalModel.option['figsize']['height'].includes('px')) {
          var height = parseFloat(globalModel.option['figsize']['height'].slice(0,-2));
        }
      }
      else {
        var height = option['figsize']['height'];
      }
      var relative_ratio = Math.min(width / 700, height / 400);
      if (axis_type==='2d') {
        const yAxisList = globalModel.option.yAxis
        const xAxisList = globalModel.option.xAxis

        for (var axis_idx of auto_axis_list) {
          const yAxis = yAxisList[axis_idx]
          const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
          const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
          ctx.save()
          ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
  
          const yAxisComponent = globalModel.getComponent('yAxis', axis_idx)?.axis
          if (yAxis.type === 'value') {
            var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
          }
          else {
            var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
          }
          var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
          axisLabelMargin = axisLabelMargin * relative_ratio
          yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
          ctx.restore()
        };
  
        for (var axis_idx of [...Array(xAxisList.length).keys()]) {
          var new_gap = Math.max(xAxisList[axis_idx].nameGap * relative_ratio, 12);
          if (figsize['height'] < 400) {
            new_gap = Math.min(20, new_gap);
          }
          xAxisList[axis_idx].nameGap = new_gap;
        }
  
        echarts_instance.setOption({
          yAxis: yAxisList,
          xAxis: xAxisList
        })
      }
      else {
        const yAxisList = globalModel.option.yAxis3D
        const xAxisList = globalModel.option.xAxis3D
        const zAxisList = globalModel.option.zAxis3D

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < xAxisList.length) {
            const xAxis = xAxisList[axis_idx]
            const fontSize = xAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = xAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const xAxisComponent = globalModel.getComponent('xAxis3D', axis_idx)?.axis
            if (xAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...xAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = xAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            xAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < yAxisList.length) {
            const yAxis = yAxisList[axis_idx]
            const fontSize = yAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = yAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const yAxisComponent = globalModel.getComponent('yAxis3D', axis_idx)?.axis
            if (yAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...yAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = yAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            yAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };

        for (var axis_idx of auto_axis_list) {
          if (axis_idx < zAxisList.length) {
            const zAxis = zAxisList[axis_idx]
            const fontSize = zAxis.nameTextStyle?.fontSize ?? 12
            const fontFamily = zAxis.nameTextStyle?.fontFamily ?? 'sans-serif'
            ctx.save()
            ctx.font = fontSize.toString() + 'px' + fontFamily.toString()
    
            const zAxisComponent = globalModel.getComponent('zAxis3D', axis_idx)?.axis
            if (zAxis.type === 'value') {
              var labelMaxWidth = Math.min(Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width)), 30)
            }
            else {
              var labelMaxWidth = Math.max(...zAxisComponent.getViewLabels().map(item => ctx.measureText(item.formattedLabel).width))
            }
            var axisLabelMargin = zAxis.axisLabel?.margin ?? 8
            axisLabelMargin = axisLabelMargin * relative_ratio
            zAxisList[axis_idx].nameGap = labelMaxWidth + axisLabelMargin + 5 * relative_ratio
            ctx.restore()
          }
        };
        echarts_instance.setOption({
          yAxis3D: yAxisList,
          xAxis3D: xAxisList,
          zAxis3D: zAxisList
        });
        }
  
    };

    function custom_scatter_size(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['symbolSize'] === 'array_size') {
          var ind_ = option['series'][ind]['data_dict']['size']
          option['series'][ind]['symbolSize'] = function (data) {return data[ind_];}
        }
      }
      return option;
  
    };

    function show_scatter_label(option) {
  
      for (var ind = 0; ind < option['series'].length; ind++) {
        if (option['series'][ind]['label'] === 'show_label') {
          var ind_ = option['series'][ind]['data_dict']['label']
          option['series'][ind]['label'] = {
            show: true,
            formatter: function (params) {return params.data.value[ind_]; }
          }
        }
      }
      return option;
    };

    function hide_min_max_axis_label(option) {
      for (var ind = 0; ind < option['xAxis3D'].length; ind++) {
        if (option['xAxis3D'][ind]['type'] == 'value') {
          var x_min = option['xAxis3D'][ind]['min']
          var x_max = option['xAxis3D'][ind]['max']
          option['xAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==x_min || value==x_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['yAxis3D'].length; ind++) {
        if (option['yAxis3D'][ind]['type'] == 'value') {  
          var y_min = option['yAxis3D'][ind]['min']
          var y_max = option['yAxis3D'][ind]['max']
          option['yAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==y_min || value==y_max){}
            else {return value}
          }
        }
      }
      for (var ind = 0; ind < option['zAxis3D'].length; ind++) {
        if (option['zAxis3D'][ind]['type'] == 'value') {
          var z_min = option['zAxis3D'][ind]['min']
          var z_max = option['zAxis3D'][ind]['max']
          option['zAxis3D'][ind]['axisLabel']['formatter'] = function (value, index) {
            if (value==z_min || value==z_max){}
            else {return value}
          }
       }
      }
      return option;
    }

    function custom_axis_label(option) {
      if (Array.isArray(option['xAxis'])) {
        for (var ind = 0; ind < option['xAxis'].length; ind++) {
          if (option['xAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['xAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['xAxis'][ind]['axisLabel']['formatter_func'].body)
            option['xAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['xAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['xAxis']['axisLabel']['formatter_func'].arguments,
                               option['xAxis']['axisLabel']['formatter_func'].body)
          option['xAxis']['axisLabel']['formatter'] = f
        }
      }
      if (Array.isArray(option['yAxis'])) {
        for (var ind = 0; ind < option['yAxis'].length; ind++) {
          if (option['yAxis'][ind]['axisLabel']['formatter_func']) {
            var f = new Function(option['yAxis'][ind]['axisLabel']['formatter_func'].arguments,
                                 option['yAxis'][ind]['axisLabel']['formatter_func'].body)
            option['yAxis'][ind]['axisLabel']['formatter'] = f
          }
        }
      }
      else {
        if (option['yAxis']['axisLabel']['formatter_func']) {
          var f = new Function(option['yAxis']['axisLabel']['formatter_func'].arguments,
                               option['yAxis']['axisLabel']['formatter_func'].body)
          option['yAxis']['axisLabel']['formatter'] = f
        }
      }
      return option;
    }

    function custom_tooltip(option, dimension=2) {

      if (dimension === 2) {
        var xaxis_key = 'xAxis'
        var yaxis_key = 'yAxis'
      }

      else if (dimension === 3) {
        var xaxis_key = 'xAxis3D'
        var yaxis_key = 'yAxis3D'
        var zaxis_key = 'zAxis3D'
      }

      if (option['radar']) {
        var radar_names = []
        for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
          radar_names.push(option['radar']['indicator'][ind_]['name']) 
        }
      }
  
  
      if (option[xaxis_key]['name'] !== null && option[xaxis_key]['name'] !== '' && Array.isArray(option[xaxis_key])!==true) {
        var xaxis_name = option[xaxis_key]['name'];
      }
      else {
        var xaxis_name = 'X';
      }

      if (option[yaxis_key]['name'] !== null && option[yaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
        var yaxis_name = option[yaxis_key]['name'];
      }
      else {
        var yaxis_name = 'Y';
      }

      if (typeof zaxis_key !== 'undefined') {
        if (option[zaxis_key]['name'] !== ''&& Array.isArray(option[xaxis_key])!==true) {
          var zaxis_name = option[zaxis_key]['name'];
        }
        else {
          var zaxis_name = 'Z';
        }
      }
  
      if (option['tooltip']) {
        if (option['tooltip']['precision']) {
          var precision = option['tooltip']['precision']
          option['tooltip']['valueFormatter'] = (value) =>  Math.round(Number(value) * (10**precision)) / (10**precision)
        }

        for (var ind_ = 0; ind_ < option['series'].length; ind_++) {
          if (option['series'][ind_]['tooltip']) {
            if (option['series'][ind_]['tooltip']['precision']) {
              var precision = option['series'][ind_]['tooltip']['precision']
              const fix = precision_ => value => Math.round(Number(value) * (10**precision_)) / (10**precision_),
              fix_p = fix(precision);
              option['series'][ind_]['tooltip']['valueFormatter'] = function (value) {
                return fix_p(value)
              } 
            }
          }
        }

        if (option['series'].length === 1) {
          if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][0]['type'])) {
            option['tooltip']['formatter'] = function(params) {
              if (params.seriesName.includes('series')) {
                var series_name = ''
              }
          
              else {
                var series_name = params.seriesName + '<br>'
              }
      
              if (params.seriesType === 'scatter') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                  + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                  +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                }
            
              }
  
              else if (params.seriesType === 'heatmap') {
                formatter = params.name + ', ' + option['yAxis'][0]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
              }
      
              else if (params.seriesType === 'scatter3D') {
                if (option['tooltip']['custom_tooltip'] === true) {
                  formatter = series_name
                    + params.value[dimension]
                }
                else {
                  formatter = series_name
                    + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                    +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                    +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                }
              }
          
              else if (params.seriesType === 'radar') {
                formatter = params.name  + '<br>';
                for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                  if (ind_ !== option['radar']['indicator'].length - 1) {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                  }
                  else {
                    formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                  }
                }
              }
            return formatter;
            }
          }
        }
        else {
          for (var out_ind_ = 0; out_ind_ < option['series'].length; out_ind_++) {
            if (['scatter', 'heatmap', 'scatter3D', 'radar'].includes(option['series'][out_ind_]['type'])) {
              if (option['series'][out_ind_]['tooltip']) {
              }
              else {
                option['series'][out_ind_]['tooltip'] = {}
              }
              option['series'][out_ind_]['tooltip']['formatter'] = function(params) {
                if (params.seriesName.includes('series')) {
                  var series_name = ''
                }
            
                else {
                  var series_name = params.seriesName + '<br>'
                }
        
                if (params.seriesType === 'scatter') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                  }
                }
    
                else if (params.seriesType === 'heatmap') {
                  if ('data' in option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]) {
                    formatter = params.name + ', ' + option['yAxis'][option['series'][params.seriesIndex]['yAxisIndex']]['data'][params.data[1]] + '<br> <b>' + Math.round(params.data[2] * 10000) / 10000
                  }
                  else {
                    formatter = Math.round(params.data[2] * 10000) / 10000
                  }
                
                }
        
                else if (params.seriesType === 'scatter3D') {
                  if (option['tooltip']['custom_tooltip'] === true) {
                    formatter = series_name
                      + params.value[dimension]
                  }
                  else {
                    formatter = series_name
                      + xaxis_name + ': '+ Math.round(params.value[0] * 100) / 100
                      +'<br>' + yaxis_name + ': ' + Math.round(params.value[1] * 100) / 100
                      +'<br>' + zaxis_name + ': ' + Math.round(params.value[2] * 100) / 100
                  }
                }
            
                else if (params.seriesType === 'radar') {
                  formatter = params.name  + '<br>';
                  for (var ind_ = 0; ind_ < option['radar']['indicator'].length; ind_++) {
                    if (ind_ !== option['radar']['indicator'].length - 1) {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100 + '<br>'
                    }
                    else {
                      formatter += radar_names[ind_] + ': ' + Math.round(params.value[ind_] * 100) / 100
                    }
                  }
                }
              return formatter;
              }
            }
          }
        }
      }
      return option;
    };

    function support_brush_event(option) {
      if (option['event']['type_'] === 'brushselected') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var last_selected = [];
        bind_chart.on(option['event']['type_'], (params) => {
          var brushed = [];
          var brushComponent = params.batch[0];
          for (var sIdx = 0; sIdx < brushComponent.selected.length; sIdx++) {
            var rawIndices = brushComponent.selected[sIdx].dataIndex;
            brushed.push(rawIndices);
          }
          var brushed_all = brushed[0];

          if (JSON.stringify(last_selected) !== JSON.stringify(brushed_all)) {

            // Update memory
            let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
              method: 'post',
              headers: {
                  'Content-Type': 'application/json;charset=utf-8;',
                  'Access-Control-Allow-Origin':'*',
                  'Access-Control-Allow-Credentials': 'true',
                  'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
              },
              body: JSON.stringify({'js_func_input':{'selected': brushed_all},
                                    'event_id': option['event']['event_id']})
            });
            var dom_dict = {}
            fetch(testRequest).then(response => {
              var result = response.json();
              result.then(res => {
                dom_dict[res['link_id']] = document.getElementById(res['link_id']);
                setInnerHTML(dom_dict[res['link_id']], res['html']);
              });
            });
            last_selected = brushed_all;
          }
                            
        // bind_chart.setOption(option);
        })
      }
      return option;
    };

    function support_click_event(option) {
      if (option['event']['type_'] === 'click') {
        if (option['link_id'] === null) {
          var link_id = option['chart_id'];
        }
        else {
          var link_id = option['link_id'];
        }
        var dom = document.getElementById(link_id);
        var bind_chart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });

        if (option['series'][0]['orient'] === 'vertical') {
          var value_idx = 0
        }
        else {
          var value_idx = 1
        }
    

        bind_chart.on(option['event']['type_'], (params) => {
          if (option['event']['task'] === 'singleselect') {
            for (var ind_2 = 0; ind_2 < option['series'][0]['data'].length; ind_2++) {
              if (option['series'][0]['data'][ind_2]['itemStyle']['color'] !== '#1f77b4') {
                option['series'][0]['data'][ind_2]['itemStyle']['color'] = '#1f77b4';
              }
            }
            var idx = option['series'][0]['x_value'].indexOf(params.value[value_idx])
            option['series'][0]['data'][idx]['itemStyle']['color'] = '#ff7f0e';

            var selected = params.value[value_idx];
          }
          else {
            console.log(params);
          }
      
          let testRequest = new Request('http://localhost:' + option['port'] +'/function/js_call_python_function', {
            method: 'post',
            headers: {
              'Content-Type': 'application/json;charset=utf-8;',
              'Access-Control-Allow-Origin':'*',
              'Access-Control-Allow-Credentials': 'true',
              'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'
            },
            body: JSON.stringify({'js_func_input':{'selected': selected},
                                  'event_id': option['event']['event_id']})
          });
          var dom_dict = {}
          fetch(testRequest).then(response => {
            var result = response.json();
            result.then(res => {
              dom_dict[res['link_id']] = document.getElementById(res['link_id']);
              setInnerHTML(dom_dict[res['link_id']], res['html']);
            });
          });
          bind_chart.setOption(option);
        });
      }
      return option;
    };option = support_scientific_notation(option=option);option = custom_tooltip(option=option, dimension=2);option = custom_scatter_size(option=option);option = show_scatter_label(option=option);option = custom_axis_label(option=option);option = auto_component_size(option=option);getScreenSize(option=option);

                myChart.setOption(option);
                window.addEventListener('resize', function () {
                    myChart.resize();
                    var option_copy = JSON.parse(JSON.stringify(option));
                    option_copy['figsize']['height'] = myChart.getHeight();
                    option_copy['figsize']['width'] = myChart.getWidth();
                    // option_copy = auto_component_size(option_copy);
                    myChart.setOption(option_copy);
                });
            <\/script>
            </body>
            </html>
        <style>
    .dg.main.taller-than-window .close-button {
        border-top: 1px solid #ddd;
    }

    .dg.main .close-button {
        background-color: #e8e8e8;
    }
 
    .dg.main .close-button:hover {
        background-color: #ddd;
    }

    .dg {
        color: #555;
        text-shadow: none !important;
    }

    .dg.main::-webkit-scrollbar {
        background: #fafafa;
    }

    .dg.main::-webkit-scrollbar-thumb {
        background: #bbb;
    }
 
    .dg li:not(.folder) {
        background: #fafafa;
        border-bottom: 1px solid #ddd;
    }
 
    .dg li.save-row .button {
        text-shadow: none !important;
    }

    .dg li.title {
        background: #e8e8e8 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;
    }

    .dg .cr.function:hover,.dg .cr.boolean:hover {
        background: #fff;
    }
 
    .dg .c input[type=text] {
        background: #e9e9e9;
    }
 
    .dg .c input[type=text]:hover {
        background: #eee;
    }
 
    .dg .c input[type=text]:focus {
        background: #eee;
        color: #555;
    }
 
    .dg .c .slider {
        background: #e9e9e9;
    }

    .dg .c .slider:hover {
        background: #eee;
    }<\/style>`);option = support_scientific_notation(option=option);option = custom_tooltip(option=option, dimension=2);option = custom_scatter_size(option=option);option = show_scatter_label(option=option);option = custom_axis_label(option=option);option = auto_component_size(option=option);getScreenSize(option=option);

                if (option && typeof option === 'object') {
                    myChart.setOption(option);
                    }

                auto_axis_namegap(echarts_instance=myChart, auto_axis_list=[0], axis_type="2d");

            </script>
            </body>
            </html>
    
    </div>
    <br />
    <br />


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.020 seconds)


.. _sphx_glr_download__source_auto_galleries_galleries_plots_plots_0_scatter.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plots_0_scatter.ipynb <plots_0_scatter.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plots_0_scatter.py <plots_0_scatter.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plots_0_scatter.zip <plots_0_scatter.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
